---
title: 22. æ–‡ä»¶è¯»å–
icon: boke
date: 2025-12-01 14:08:10
author: Ran
isOriginal: true
sticky: false
star: false
article: true
timeline: true
image: false
navbar: true
sidebarIcon: true
comment: true
lastUpdated: true
editLink: true
backToTop: true
toc: true
---

## 1. æ‰‹åŠ¨åˆ›å»ºæ–‡ä»¶

åœ¨ä»»æ„åœ°ç‚¹åˆ›å»ºä¸€ä¸ª `.txt` æ–‡ä»¶ï¼Œåªè¦ä¿è¯åç»­ `.py` æ–‡ä»¶å’Œè¯¥ `.txt` æ–‡ä»¶åœ¨åŒä¸€ç›®å½•å³å¯ã€‚

![åŒä¸€ç›®å½•ä¸‹çš„txtå’Œpyæ–‡ä»¶](./22-files-opt.assets/image-20251201141846167.png)

æ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š

```bash
1,2,3,4,5,6,7,8,9,0
0,9,8,7,6,5,4,3,2,1

python,c++,c,java,c#,html,css,javascript,php
ç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°      
```

> æ³¨æ„æ–‡ä»¶å†…å®¹é‡Œçš„ç¬¦å·æ˜¯ä¸­æ–‡/è‹±æ–‡



## 2. åŸºç¡€ open() æ“ä½œ

`open()` æ˜¯é»˜è®¤è¯»å–æ¨¡å¼ï¼Œåé¢ä¼šç³»ç»Ÿè®²è§£ã€‚

```python
file = open('bornforthis.txt')
```

> æ³¨æ„ï¼šæ–‡ä»¶æœ‰æ‰“å¼€å°±æœ‰å…³é—­ `file.close()`



### 2.1 read()

ç”¨é€”ï¼š`read()`  å¯ä»¥ç›´æ¥è¯»å–æ‰“å¼€çš„æ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œå¦‚æœéœ€è¦æŒ‡å®šå­—ç¬¦æ•°é‡ï¼Œåˆ™ç”¨ `read(size)` æ¥æŒ‡å®šã€‚

::: tabs

@tab ä¸æŒ‡å®š size

```python
file = open('bornforthis.txt')
content = file.read()              # read å¯ä»¥è¯»å–æ•´ä¸ªæ–‡ä»¶
print(content)
```

è¾“å‡ºï¼š

```python
1,2,3,4,5,6,7,8,9,0
0,9,8,7,6,5,4,3,2,1

python,c++,c,java,c#,html,css,javascript,php
ç»€å¥ç´°é”›å±½å•å§ï½ç´å§˜æˆœå¯Œé”›å±¾ç¡¶å¨Œä¼™ç´é‚å›¨æ§‘é”›å±½å¼¸é å‹¶ç´éœå²ƒçš­
```

æ›´æ”¹ï¼š

```python
file = open('bornforthis.txt', encoding='utf-8')
content = file.read()              # read å¯ä»¥è¯»å–æ•´ä¸ªæ–‡ä»¶
print(content)

# -------output-------
1,2,3,4,5,6,7,8,9,0
0,9,8,7,6,5,4,3,2,1

python,c++,c,java,c#,html,css,javascript,php
ç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°
```



@tab æŒ‡å®š size

```python
file = open('bornforthis.txt', encoding='utf-8')
content = file.read(10)              # read å¯ä»¥è¯»å–æ•´ä¸ªæ–‡ä»¶
print(content)

# -------output-------
1,2,3,4,5,
```

> size å°†å­—æ¯ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ã€æ¢è¡Œã€ç©ºæ ¼ã€æ±‰å­—ç­‰éƒ½ç®—è¿›å»ï¼Œè®°ä¸º 1 ä¸ªå­—ç¬¦ã€‚

:::



####  Windows è¯»å–ä¹±ç /ç¼–ç æŠ¥é”™

- è¯»å–ä¹±ç 

    ![](./22-files-opt.assets/image-20251201143524346.png)

- æŠ¥ç¼–ç é”™è¯¯ï¼Œç±»ä¼¼å¦‚ä¸‹æƒ…å†µï¼š

```python 5
Traceback (most recent call last):
  File "/Users/huangjiabao/Books/code.py", line 2, in <module>
    file.read()
  File "<frozen codecs>", line 322, in decode
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xce in position 0: invalid continuation byte
```

**ä¸Šè¿°ä¸¤ä¸ªé—®é¢˜åŒæ—¶è§£å†³ï¼š**

é€šè¿‡åœ¨ open å‡½æ•°ä¸­æ·»åŠ  `encoding='utf-8'` ï¼Œå³å¯å®ç°æˆåŠŸè¿è¡Œã€‚

```python
file = open('bornforthis.txt', encoding='utf-8')
content = file.read()              # read å¯ä»¥è¯»å–æ•´ä¸ªæ–‡ä»¶
print(content)
```



### 2.2 read() ä¼˜ç¼ºç‚¹

#### 2.2.1 ä¼˜ç‚¹

- è¯­å¥ç®€å•æ˜“ç”¨
- ä¾¿äºä¸€æ¬¡æ€§è¯»å–å’Œå¤„ç†å°æ–‡ä»¶
- æ— éœ€é€è¡Œå¤„ç†ï¼Œ`read()` å¯ä»¥å…¨éƒ¨è¯»å–
- `read()` è¿”å›çš„æ˜¯å­—ç¬¦ä¸²ï¼Œæ–¹ä¾¿å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œ
- å…¼å®¹æ€§å¥½

#### 2.2.2 ç¼ºç‚¹

- å¤„ç†å¤§å‹æ–‡ä»¶æ—¶å†…å­˜æ¶ˆè€—è¿‡å¤§ï¼Œä¸”å®¹æ˜“å¡æ­»ï¼Œå› ä¸ºè¯¥æ–¹æ³•å°†æ•´ä¸ªæ–‡ä»¶ä¸€æ¬¡æ€§è¯»å–åˆ°å†…å­˜ä¸­ã€‚

- æ— æ³•å¯¹æ–‡ä»¶å†…å®¹åˆ†æ‰¹å¤„ç†

- æ— æ³•é€è¡Œå¤„ç†æ•°æ®

- ä¸é€‚åˆæµå¼è¯»å–

- æ–‡ä»¶ç»“æŸç¬¦ï¼ˆEOFï¼‰å¤„ç†é—®é¢˜ï¼šä½¿ç”¨è¯¥æ–¹æ³•è¯»å–æ–‡ä»¶åï¼Œæ–‡ä»¶æŒ‡é’ˆåœ¨æ–‡ä»¶æœ«å°¾ï¼Œå¦‚æœéœ€è¦ç»§ç»­è¯»å–æ–‡ä»¶æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨é‡ç½®æ–‡ä»¶æŒ‡é’ˆåˆ°å¼€å§‹æˆ–æŒ‡å®šä½ç½®ã€‚å¦åˆ™å†æ¬¡è°ƒç”¨è¯»å–çš„æ–¹æ³•å¯èƒ½ä¼šè¿”å›ç©ºå€¼æˆ–æŠ›å‡ºå¼‚å¸¸ã€‚

    ```python
    file = open('bornforthis.txt', encoding='utf-8')
    content = file.read()
    print(f'ç¬¬ä¸€æ¬¡è¯»å–ï¼š{content}')
    
    
    content = file.read()
    print(f'ç¬¬äºŒæ¬¡è¯»å–ï¼š{content}')
    file.close()
    
    # -------output-------
    ç¬¬ä¸€æ¬¡è¯»å–ï¼š1,2,3,4,5,6,7,8,9,0
    0,9,8,7,6,5,4,3,2,1
    
    python,c++,c,java,c#,html,css,javascript,php
    ç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°
    
    ç¬¬äºŒæ¬¡è¯»å–ï¼š
    ```

    **è§£å†³æ–¹æ³•1ï¼š** å†æ¬¡ open æ–‡ä»¶

    ```python
    file = open('bornforthis.txt', encoding='utf-8')
    content = file.read()
    print(f'ç¬¬ä¸€æ¬¡è¯»å–ï¼š{content}')
    file.close()
    
    file = open('bornforthis.txt', encoding='utf-8')
    content = file.read()
    print(f'ç¬¬äºŒæ¬¡è¯»å–ï¼š{content}')
    file.close()
    
    # -------output-------
    ç¬¬ä¸€æ¬¡è¯»å–ï¼š1,2,3,4,5,6,7,8,9,0
    0,9,8,7,6,5,4,3,2,1
    
    python,c++,c,java,c#,html,css,javascript,php
    ç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°
    
    ç¬¬äºŒæ¬¡è¯»å–ï¼š1,2,3,4,5,6,7,8,9,0
    0,9,8,7,6,5,4,3,2,1
    
    python,c++,c,java,c#,html,css,javascript,php
    ç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°
    ```

    **è§£å†³æ–¹æ³•2ï¼š** ä½¿ç”¨ seek æ§åˆ¶æŒ‡é’ˆå›åˆ°æ–‡ä»¶å¼€å¤´

    ```python
    file = open('bornforthis.txt', encoding='utf-8')
    content = file.read()
    print(f'ç¬¬ä¸€æ¬¡è¯»å–ï¼š{content}')
    
    file.seek(0)
    
    content = file.read()
    print(f'ç¬¬äºŒæ¬¡è¯»å–ï¼š{content}')
    file.close()
    
    # -------output-------
    ç¬¬ä¸€æ¬¡è¯»å–ï¼š1,2,3,4,5,6,7,8,9,0
    0,9,8,7,6,5,4,3,2,1
    
    python,c++,c,java,c#,html,css,javascript,php
    ç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°
    
    ç¬¬äºŒæ¬¡è¯»å–ï¼š1,2,3,4,5,6,7,8,9,0
    0,9,8,7,6,5,4,3,2,1
    
    python,c++,c,java,c#,html,css,javascript,php
    ç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°
    ```

    


### 2.3 read() çš„åˆ†å—è¯»å–

#### 2.3.1 æ‰‹åŠ¨åˆ†å—è¯»å–

ä¸Šæ–‡æåˆ° `read()` ä¼šä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶å…¨éƒ¨å†…å®¹ï¼Œå¯¼è‡´å†…å­˜å ç”¨è¿‡å¤§æˆ–å¡é¡¿é—®é¢˜ã€‚

åˆ†å—è¯»å–ï¼ˆchunked readingï¼‰æ˜¯è§£å†³è¿™ä¸€é—®é¢˜çš„å¸¸ç”¨æ–¹å¼ã€‚

```python
file = open('bornforthis.txt', encoding='utf-8')
content = file.read(10)
print(f'ç¬¬ä¸€æ¬¡è¯»å–ï¼š{content}')

content = file.read(10)
print(f'ç¬¬äºŒæ¬¡è¯»å–ï¼š{content}')
file.close()

# -------output-------
ç¬¬ä¸€æ¬¡è¯»å–ï¼š1,2,3,4,5,
ç¬¬äºŒæ¬¡è¯»å–ï¼š6,7,8,9,0
```



#### 2.3.2 ä»»åŠ¡ï¼šè§£å†³å¤§æ–‡ä»¶è¯»å–é—®é¢˜

- **ç›®æ ‡**ï¼šä½¿ç”¨å‡½æ•°+å¾ªç¯çš„æ–¹å¼å®ç° read çš„åˆ†å—è¯»å–ï¼›

- **éœ€æ±‚**ï¼šç»™ä½ ä¸€ä¸ªå¤§æ–‡ä»¶ï¼Œä½ è¦å®ç°ä¸€ä¸ªå‡½æ•°æ¥åˆ†å—è¯»å–æ–‡ä»¶æ‰€æœ‰å†…å®¹ã€‚æ¢å¥è¯è¯´ï¼šå®ç°çš„å‡½æ•°æœ€åè¾“å‡ºçš„å†…å®¹æ˜¯æ–‡ä»¶çš„å…¨éƒ¨å†…å®¹ï¼Œä½†æ˜¯å®é™…å®ç°åˆ™æ˜¯åˆ†å—è¯»å–ï¼

:::: tabs

@tab å¾ªç¯+len() 

è‡ªåŠ¨åˆ†å—è¯»å–å°±æ˜¯åœ¨æ‰‹åŠ¨è¯»å–çš„åŸºç¡€ä¸Šæ·»åŠ å¾ªç¯ï¼Œé‚£ä¹ˆå¾ªç¯ç»“æŸçš„æ ‡å¿—å¦‚ä½•ç¡®å®šã€‚æ­¤å¤„å¯ä»¥ç”¨ `len(content)` å°äº `size` è¾…åŠ©ç¡®å®šã€‚

```python
file = open('bornforthis.txt', encoding='utf-8')

i = 1
is_finished = False
while not is_finished:
    content = file.read(10)
    print(f'ç¬¬{i}æ¬¡è¯»å–ï¼š{content}')
    i += 1

    if len(content) < 10:
        is_finished = True

file.close()

# -------output-------
ç¬¬1æ¬¡è¯»å–ï¼š1,2,3,4,5,
ç¬¬2æ¬¡è¯»å–ï¼š6,7,8,9,0

ç¬¬3æ¬¡è¯»å–ï¼š0,9,8,7,6,
ç¬¬4æ¬¡è¯»å–ï¼š5,4,3,2,1

ç¬¬5æ¬¡è¯»å–ï¼š
python,c+
ç¬¬6æ¬¡è¯»å–ï¼š+,c,java,c
ç¬¬7æ¬¡è¯»å–ï¼š#,html,css
ç¬¬8æ¬¡è¯»å–ï¼š,javascrip
ç¬¬9æ¬¡è¯»å–ï¼št,php
ç¤¾ä¼šï¼Œå…¬
ç¬¬10æ¬¡è¯»å–ï¼šæ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜
ç¬¬11æ¬¡è¯»å–ï¼šï¼Œå‹å–„ï¼Œå’Œè°
```

::: info æ³¨æ„ï¼šç©ºæ ¼/æ¢è¡Œä¹Ÿç®—ä½œ 1 ä¸ªå­—ç¬¦ï¼Œå› æ­¤è¯»å–æ—¶éœ€è¦æ³¨æ„æ ¼å¼

å½“åœ¨æ•°å­—å‰å¢åŠ  10 ä¸ªç©ºæ ¼æ—¶ï¼Œç¬¬ä¸€æ¬¡è¯»å–ä¼šå°† 10 ä¸ªç©ºæ ¼è¯»å–å‡ºæ¥ï¼š

æ–‡ä»¶ï¼š

```bash
          1,2,3,4,5,6,7,8,9,0
0,9,8,7,6,5,4,3,2,1

python,c++,c,java,c#,html,css,javascript,php
ç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°
```

è¯»å–ç»“æœï¼š

```python
ç¬¬1æ¬¡è¯»å–ï¼š          
ç¬¬2æ¬¡è¯»å–ï¼š1,2,3,4,5,
ç¬¬3æ¬¡è¯»å–ï¼š6,7,8,9,0

ç¬¬4æ¬¡è¯»å–ï¼š0,9,8,7,6,
ç¬¬5æ¬¡è¯»å–ï¼š5,4,3,2,1

ç¬¬6æ¬¡è¯»å–ï¼š
python,c+
ç¬¬7æ¬¡è¯»å–ï¼š+,c,java,c
ç¬¬8æ¬¡è¯»å–ï¼š#,html,css
ç¬¬9æ¬¡è¯»å–ï¼š,javascrip
ç¬¬10æ¬¡è¯»å–ï¼št,php
ç¤¾ä¼šï¼Œå…¬
ç¬¬11æ¬¡è¯»å–ï¼šæ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜
ç¬¬12æ¬¡è¯»å–ï¼šï¼Œå‹å–„ï¼Œå’Œè°

```

ä½†æ˜¯å½“æˆ‘ä»¬å†æ•²å‡»å›è½¦æ¢è¡Œæ—¶ï¼Œpycharm ä¼šè‡ªåŠ¨é»˜è®¤åŸæœ¬ç¬¬1è¡Œè¾“å…¥çš„ 10 ä¸ªç©ºæ ¼ä¸éœ€è¦ï¼Œç¬¬ä¸€è¡Œåªä¿ç•™ æ¢è¡Œï¼Œå°†åŸæœ¬ç¬¬ä¸€è¡Œçš„ 10 ä¸ªç©ºæ ¼ç§»åˆ°ç¬¬äºŒè¡Œçš„æ•°å­—å‰ï¼Œæ‰€ä»¥è¯»å–æ—¶ï¼Œä¼š**å…ˆè¯»å–æ¢è¡Œï¼Œå†è¯»å–ç©ºæ ¼** ã€‚

æ–‡ä»¶å†…å®¹ï¼š

```bash
          1,2,3,4,5,6,7,8,9,0
0,9,8,7,6,5,4,3,2,1

python,c++,c,java,c#,html,css,javascript,php
ç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°

```

è¯»å–ç»“æœï¼š

```python
ç¬¬1æ¬¡è¯»å–ï¼š
         
ç¬¬2æ¬¡è¯»å–ï¼š 1,2,3,4,5
ç¬¬3æ¬¡è¯»å–ï¼š,6,7,8,9,0
ç¬¬4æ¬¡è¯»å–ï¼š
0,9,8,7,6
ç¬¬5æ¬¡è¯»å–ï¼š,5,4,3,2,1
ç¬¬6æ¬¡è¯»å–ï¼š

python,c
ç¬¬7æ¬¡è¯»å–ï¼š++,c,java,
ç¬¬8æ¬¡è¯»å–ï¼šc#,html,cs
ç¬¬9æ¬¡è¯»å–ï¼šs,javascri
ç¬¬10æ¬¡è¯»å–ï¼špt,php
ç¤¾ä¼šï¼Œ
ç¬¬11æ¬¡è¯»å–ï¼šå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡
ç¬¬12æ¬¡è¯»å–ï¼šæ˜ï¼Œå‹å–„ï¼Œå’Œè°
```

:::



@tab å¾ªç¯+æ£€æµ‹è¯»å–å†…å®¹

é¦–å…ˆæ€è€ƒï¼Œå½“å†…å®¹éƒ½è¯»å–å®Œæˆåï¼Œè¯»å–å‡ºæ¥çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ

```python
file = open('bornforthis.txt', encoding='utf-8')

content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
content = file.read(10)
print(f'ç¬¬ ? æ¬¡è¯»å–ï¼š{content}')
print(f'æ— å†…å®¹æ—¶è¯»å–çš„æ˜¯ï¼šç±»å‹â†’{type(content)}, æ˜¯å¦æœ‰å†…å®¹â†’{bool(content)}')

file.close()

# -------output-------
ç¬¬ ? æ¬¡è¯»å–ï¼š1,2,3,4,5,
ç¬¬ ? æ¬¡è¯»å–ï¼š6,7,8,9,0

ç¬¬ ? æ¬¡è¯»å–ï¼š0,9,8,7,6,
ç¬¬ ? æ¬¡è¯»å–ï¼š5,4,3,2,1

ç¬¬ ? æ¬¡è¯»å–ï¼š
python,c+
ç¬¬ ? æ¬¡è¯»å–ï¼š+,c,java,c
ç¬¬ ? æ¬¡è¯»å–ï¼š#,html,css
ç¬¬ ? æ¬¡è¯»å–ï¼š,javascrip
ç¬¬ ? æ¬¡è¯»å–ï¼št,php
ç¤¾ä¼šï¼Œå…¬
ç¬¬ ? æ¬¡è¯»å–ï¼šæ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜
ç¬¬ ? æ¬¡è¯»å–ï¼šï¼Œå‹å–„ï¼Œå’Œè°

ç¬¬ ? æ¬¡è¯»å–ï¼š
ç¬¬ ? æ¬¡è¯»å–ï¼š
ç¬¬ ? æ¬¡è¯»å–ï¼š
æ— å†…å®¹æ—¶è¯»å–çš„æ˜¯ï¼šç±»å‹â†’<class 'str'>, æ˜¯å¦æœ‰å†…å®¹â†’False

```

æ¢ç©¶å¯çŸ¥ï¼Œæ²¡æœ‰å†…å®¹å¯è¯»å–æ—¶ï¼Œè¾“å‡ºçš„æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œä¸”æ²¡æœ‰æŠ¥é”™ã€‚

å¯ä»¥æ ¹æ®åˆ¤æ–­è¾“å‡ºçš„å†…å®¹æ˜¯å¦ä¸ºç©ºå­—ç¬¦ä¸²æ¥ç•Œå®šè¾¹ç•Œã€‚

```python
file = open('bornforthis.txt', encoding='utf-8')

content = ' '
while content:
    content = file.read(10)
    print(f'ç¬¬xxæ¬¡è¯»å–ï¼š{content}')

file.close()

# -------output-------
ç¬¬xxæ¬¡è¯»å–ï¼š1,2,3,4,5,
ç¬¬xxæ¬¡è¯»å–ï¼š6,7,8,9,0

ç¬¬xxæ¬¡è¯»å–ï¼š0,9,8,7,6,
ç¬¬xxæ¬¡è¯»å–ï¼š5,4,3,2,1

ç¬¬xxæ¬¡è¯»å–ï¼š
python,c+
ç¬¬xxæ¬¡è¯»å–ï¼š+,c,java,c
ç¬¬xxæ¬¡è¯»å–ï¼š#,html,css
ç¬¬xxæ¬¡è¯»å–ï¼š,javascrip
ç¬¬xxæ¬¡è¯»å–ï¼št,php
ç¤¾ä¼šï¼Œå…¬
ç¬¬xxæ¬¡è¯»å–ï¼šæ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜
ç¬¬xxæ¬¡è¯»å–ï¼šï¼Œå‹å–„ï¼Œå’Œè°

ç¬¬xxæ¬¡è¯»å–ï¼š                   # æ­¤å¤„å¤šè¾“å‡ºçš„ä¸€è¡Œï¼Œè€ƒè™‘å¦‚ä½•è°ƒæ•´ print çš„ä½ç½®ä½¿è¿™ä¸€è¡Œä¸è¾“å‡ºçš„æƒ…å†µä¸‹ç»“æŸå¾ªç¯
```

ä¿ç•™ `txt` æ–‡ä»¶çš„æºæ ¼å¼ï¼š

```python
file = open('bornforthis.txt', encoding='utf-8')

content = ' '
while content:
    content = file.read(10)
    print(content, end='')

file.close()

# -------output-------
1,2,3,4,5,6,7,8,9,0
0,9,8,7,6,5,4,3,2,1

python,c++,c,java,c#,html,css,javascript,php
ç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°

```

> ä¼˜åŒ–ï¼š`content` ä¹‹åéƒ½ä¼šè¢«è¦†ç›–ï¼Œé‚£ä¹ˆ line 3 é‡Œä¸éœ€è¦å°†å…¶è®¾ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œç›´æ¥ç”¨å¸ƒå°”å€¼ `content = True` å³å¯ï¼Œé€»è¾‘ä¸Šä¹Ÿä¾¿äºè·Ÿ `while` è¿æ¥ã€‚

::::

::: info Q&A

ä¸Šé¢æ¢ç©¶ç¯èŠ‚ä¸»è¦çš„æ€è€ƒç‚¹åœ¨äºï¼šå¾ªç¯åˆ°ä½•æ—¶åœæ­¢ï¼Œé‚£ä¹ˆå…ä¸äº†æ€è€ƒæ–‡ä»¶åˆ°åº•æœ‰å¤šé•¿ï¼ŸçŸ¥é“é•¿åº¦å°±èƒ½è®©è¯»å–åœæ­¢ã€‚

Q1: ä¸ºä»€ä¹ˆ Python ä¸æä¾›ç›´æ¥è®¿é—®æ–‡ä»¶é•¿åº¦çš„æ–¹æ³•ï¼Ÿ

A1ï¼šè·å–æ–‡ä»¶é•¿åº¦çš„æœ¬è´¨ â€œå¯èƒ½â€ å°±æ˜¯è¯»å–æ•´ä¸ªæ–‡ä»¶åè·å¾—é•¿åº¦ï¼Œé‚£ä¹ˆè®¿é—®æ–‡ä»¶é•¿åº¦ä¸è¯»å–æ–‡ä»¶çš„æ—¶é•¿å’Œå¤æ‚ç¨‹åº¦æ˜¯ç›¸è¿‘çš„ï¼Œå› æ­¤æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«ã€‚

---

Q2ï¼šæˆ‘ä»¬ç°åœ¨ç ”ç©¶çš„ç»ˆæç›®æ ‡æ˜¯ä»€ä¹ˆï¼Ÿ

A2ï¼šä¸æ˜¯ä¸ºäº†å¾—åˆ°ä¸€ä¸ªæ–‡ä»¶/å†…å®¹çš„é•¿åº¦ï¼Œè€Œæ˜¯é€šè¿‡å°æ–‡ä»¶æ‰¾åˆ°è§„å¾‹ï¼Œä»è€Œåå“ºåˆ°å¤§æ–‡ä»¶ä¸Šã€‚

> å³ï¼šå¤§æ–‡ä»¶å¥—ç”¨å°æ–‡ä»¶çš„è§„å¾‹ã€‚
>
> ä¸¾ä¸ªä¾‹å­ğŸŒ°ï¼š
>
> æ“ä½œå¤§æ–‡ä»¶éœ€è¦èŠ±è´¹çš„æ—¶é—´è¾ƒé•¿ï¼Œå°†å¤§æ–‡ä»¶æ•´å—æ“ä½œæ—¶ï¼Œä¸€æ—¦é‡åˆ°é”™è¯¯åˆ™å‰åŠŸå°½å¼ƒã€‚å› æ­¤æ›´å¥½çš„åŠæ³•æ˜¯è¿›è¡Œåˆ†å—æ“ä½œï¼Œåä¸€æ­¥åœ¨å‰ä¸€æ­¥çš„åŸºç¡€ä¸Šæ“ä½œï¼›æˆ–åˆ†å—æ“ä½œå½¼æ­¤ç‹¬ç«‹ï¼Œæœ€åå¯ä»¥å°†æ“ä½œç»“æœæ•´åˆã€‚

**æ ¸å¿ƒæ€æƒ³ï¼š é—®é¢˜æ‹†è§£ã€‚**

å¤§é—®é¢˜ï¼šå¤§æ–‡ä»¶å¦‚ä½•åˆ†å—è¯»å–ï¼Ÿ

æ‹†è§£ï¼šå°æ–‡ä»¶å¦‚ä½•åˆ†å—è¯»å–ï¼Ÿï¼ˆæ¢è·¯ï¼‰â†’ å°æ–‡ä»¶æ‰‹åŠ¨åˆ†å‡º **ç¬¬ä¸€å—** å¹¶è¯»å– â†’ å°æ–‡ä»¶æ‰‹åŠ¨åˆ†å‡º **å¤šå—** å¹¶è¯»å– â†’ è§‚å¯Ÿ **æœ€åä¸€å—** çš„ç‰¹ç‚¹ â†’  åˆ¤æ–­å‡ºå°æ–‡ä»¶è¯»å–ç»“æŸåå†è¾“å‡ºçš„å†…å®¹æ²¡æœ‰æ•°æ® â†’ å°†ç»“è®ºåº”ç”¨åˆ°è‡ªåŠ¨å¾ªç¯ä¸­ã€‚

:::



#### 2.3.3 æ’é™¤æ–‡ä»¶ä¸­â€œå›è½¦â€æ¸²æŸ“å½±å“

å½“ `print()` è¿›è¡Œæ¸²æŸ“çš„æ—¶å€™ï¼ŒåŸæ–‡ä¸­çš„æ¢è¡Œä¼šç›´æ¥æ¸²æŸ“ï¼Œä½†æ˜¯æˆ‘ä»¬çŸ¥é“å­—ç¬¦ `\n` æ˜¯è¡¨ç¤ºæ¢è¡Œçš„ã€‚é‚£ä¹ˆå¦‚ä½•åœ¨è¾“å‡ºæ—¶ä¿ç•™å­—ç¬¦ `\n` è€Œä¸è¿›è¡Œæ¢è¡Œæ¸²æŸ“å‘¢ï¼Ÿ

::: tabs

@tab æ–¹æ³•ä¸€

```python 6
file = open('bornforthis.txt', encoding='utf-8')

content = True
while content:
    content = file.read(10)
    print(content.replace('\n', r"\n"), end='')

file.close()

# -------output-------
1,2,3,4,5,6,7,8,9,0\n0,9,8,7,6,5,4,3,2,1\n\npython,c++,c,java,c#,html,css,javascript,php\nç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°
```

@tab æ–¹æ³•äºŒ

```python 6
file = open('bornforthis.txt', encoding='utf-8')

content = True
while content:
    content = file.read(10)
    print(content.replace('\n', "\\n"), end='')

file.close()

# -------output-------
1,2,3,4,5,6,7,8,9,0\n0,9,8,7,6,5,4,3,2,1\n\npython,c++,c,java,c#,html,css,javascript,php\nç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°
```



:::

**æ–‡ä»¶åˆ†å—è¯»å–çš„æ¢ç©¶ä»£ç ï¼š**

```python
file = open('bornforthis.txt', encoding='utf-8')
# Q1:å…·ä½“ä»€ä¹ˆæ—¶å€™ç»“æŸï¼Œä¸»è¦çœ‹å†…å®¹çš„é•¿çŸ­ï¼›
# Q2:åˆ†æ­¥å®ç°ï¼Œå…ˆå®ç°ä¸ä½¿ç”¨å¾ªç¯ï¼Œç„¶åå†è€ƒè™‘ä½¿ç”¨å¾ªç¯å®ç°ï¼šé‡å¤çš„éƒ¨åˆ†ï¼›
# Q3:å¯¹äºä¸Šé¢ä»£ç ä¸­ï¼Œé‡å¤çš„éƒ¨åˆ†ï¼šçœ‹è§é‡å¤çš„ä»£ç ï¼šcontent = file.read(10)ï¼›
# Q4:å†è€ƒè™‘è¾¹ç•Œé—®é¢˜ï¼Œå¾ªç¯éƒ½éœ€è¦è€ƒè™‘è¾¹ç•Œé—®é¢˜ï¼Œè¾¹ç•Œæ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿâ€”â€”ä»€ä¹ˆåœæ­¢å¾ªç¯ï¼›
# Q5:è¯»å–åˆ°æœ€ç»ˆæ²¡æœ‰æ–‡å­—å†…å®¹ä¸ºæ­¢ï¼â€”â€”ä¸‹ä¸€æ­¥çš„é—®é¢˜ï¼šæ²¡æœ‰æ–‡å­—å†…å®¹ï¼Œè¿”å›ä»€ä¹ˆï¼Ÿæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿå¦‚ä½•æ¢ç©¶å‡ºæ­¤ç‰¹ç‚¹ï¼Ÿâ€”â€”ç©ºå­—ç¬¦ä¸²ï¼›
# Q6:æŒç»­ç¼–å†™è¯»å–ä»£ç ï¼Œç›´è‡³æ–‡ä»¶æœ«å°¾ï¼Œåå†æ¬¡è§‚å¯Ÿæœ€åè¾“å‡ºç»“æœï¼Œæ— éå°±ä¸‰ç§ç»“æœï¼šæŠ¥é”™ã€ç©ºå­—ç¬¦ä¸²ã€æ­£å¸¸è¾“å‡ºï¼›
content = file.read(10).replace('\n', '\\n')
print(f"first 10 characters: {content}")

content = file.read(10).replace('\n', '\\n')
print(f"next 10 characters: {content}")

content = file.read(10).replace('\n', '\\n')
print(f"next 10 characters: {content}")
content = file.read(10).replace('\n', '\\n')
print(f"next 10 characters: {content}")
content = file.read(10).replace('\n', '\\n')
print(f"next 10 characters: {content}")
content = file.read(10).replace('\n', '\\n')
print(f"next 10 characters: {content}")
content = file.read(10).replace('\n', '\\n')
print(f"next 10 characters: {content}")
content = file.read(10).replace('\n', '\\n')
print(f"next 10 characters: {content}")
content = file.read(10).replace('\n', '\\n')
print(f"next 10 characters: {content}")
content = file.read(10).replace('\n', '\\n')
print(f"next 10 characters: {content}")
content = file.read(10).replace('\n', '\\n')
print(f"next 10 characters: {content}")
content = file.read(10).replace('\n', '\\n')
print(f"next 10 characters: {content}")
content = file.read(10).replace('\n', '\\n')
print(f"next 10 characters: {content}")

file.close()

# -------output-------
first 10 characters: 1,2,3,4,5,
next 10 characters: 6,7,8,9,0\n
next 10 characters: 0,9,8,7,6,
next 10 characters: 5,4,3,2,1\n
next 10 characters: \npython,c+
next 10 characters: +,c,java,c
next 10 characters: #,html,css
next 10 characters: ,javascrip
next 10 characters: t,php\nç¤¾ä¼šï¼Œå…¬
next 10 characters: æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜
next 10 characters: ï¼Œå‹å–„ï¼Œå’Œè°
next 10 characters: 
next 10 characters: 
```



#### 2.3.4 æœ€ç»ˆåˆ†å—ä»£ç 

::: tabs

@tab æ£€æµ‹è¯»å–å†…å®¹ï¼ˆå˜é‡æ–¹æ³•ï¼‰

```python
file = open('bornforthis.txt', encoding='utf-8')

content = file.read(10)
while content:
    print(content.replace('\n', "\\n"), end='')
    content = file.read(10)


file.close()
```

@tab æ£€æµ‹è¯»å–å†…å®¹ï¼ˆbreakæ–¹æ³•ï¼‰

```python
file = open('bornforthis.txt', encoding='utf-8')


while True:
    content = file.read(10)
    print(content.replace('\n', "\\n"))
    if not content:
        break

file.close()

# -------output-------
1,2,3,4,5,
6,7,8,9,0\n
0,9,8,7,6,
5,4,3,2,1\n
\npython,c+
+,c,java,c
#,html,css
,javascrip
t,php\nç¤¾ä¼šï¼Œå…¬
æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜
ï¼Œå‹å–„ï¼Œå’Œè°

```

å‘ç°è¾“å‡ºçš„æ—¶å€™**å¤šäº†ä¸€è¡Œæ¢è¡Œ** ã€‚

éœ€è¦è°ƒæ•´ print çš„ä½ç½®

```python 8
file = open('bornforthis.txt', encoding='utf-8')


while True:
    content = file.read(10)
    if not content:
        break
    print(content.replace('\n', "\\n"))

file.close()
```



:::

::: important ä¸ºä½•ä¸é€‚åˆç”¨ for å¾ªç¯ï¼Ÿ

æˆ‘ä»¬åªçŸ¥é“ä»€ä¹ˆæ—¶å€™ç»“æŸï¼ˆæ¡ä»¶ï¼‰ï¼Œä¸çŸ¥é“å®é™…è¦æ‰§è¡Œå‡ æ¬¡æ‰èƒ½ç»“æŸï¼Œå› æ­¤ä¸é€‚åˆç”¨ for å¾ªç¯ã€‚

:::



### 2.4 open() ç»“åˆå¾ªç¯è¿›è¡Œè¯»å–

ä½¿ç”¨ `open()` æ‰“å¼€æ–‡ä»¶åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å¾ªç¯è¯»å–ã€‚æœ¬è´¨ä¸Šæ˜¯é€è¡Œè¯»å–ã€‚

```python
file = open('bornforthis.txt', encoding='utf-8')

for content in file:
    print(content)

file.close()

# -------output-------
1,2,3,4,5,6,7,8,9,0

0,9,8,7,6,5,4,3,2,1



python,c++,c,java,c#,html,css,javascript,php

ç¤¾ä¼šï¼Œå…¬æ­£ï¼Œæ°‘ä¸»ï¼Œæ³•æ²»ï¼Œæ–‡æ˜ï¼Œå‹å–„ï¼Œå’Œè°

```

è§‚å¯Ÿè¾“å‡ºï¼Œå¯¹æ¯”åŸæœ¬çš„ `txt` æ–‡ä»¶ï¼Œå‘ç°å¤šäº† **æ¢è¡Œ** ã€‚





































