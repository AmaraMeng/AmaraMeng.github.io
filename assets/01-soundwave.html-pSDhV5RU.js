import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,d as p,e as c,w as a,r as F,o as u,a as s,b as l}from"./app-C2R3TP7P.js";const d="/assets/image-20251223120452288-C3iZrhi0.png",y="/assets/image-20251223120728796-BthSPYsr.png",m="/assets/image-20251223162628620-CVJtgvls.png",v={};function h(b,n){const r=F("Tabs");return u(),i("div",null,[n[14]||(n[14]=p('<h2 id="_1-创建音频及py文件" tabindex="-1"><a class="header-anchor" href="#_1-创建音频及py文件"><span>1. 创建音频及py文件</span></a></h2><h3 id="_1-1-准备音频文件" tabindex="-1"><a class="header-anchor" href="#_1-1-准备音频文件"><span>1.1 准备音频文件</span></a></h3><p>找一个格式为 wav 的音频文件，放在合适的文件夹中。</p><p>例如我放在了这个文件夹 <code>D:\\document\\speech_processing\\speech_day1</code>，命名为 <code>iuput.wav</code> 。</p><h3 id="_1-2-准备环境" tabindex="-1"><a class="header-anchor" href="#_1-2-准备环境"><span>1.2 准备环境</span></a></h3><p>PyCharm: <code>文件-打开-选择音频所在文件夹</code> 。</p><p>会提示：</p><figure><img src="'+d+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>这是 PyCharm 在问你：<strong>你现在要打开的这个文件夹/项目，要怎么和你当前已经打开的项目窗口共存</strong>。</p><p>你看到的几个按钮含义是：</p><ul><li><strong>此窗口</strong>：用<strong>当前这个 PyCharm 窗口</strong>打开新文件夹（原来打开的项目会被替换掉）。</li><li><strong>新窗口</strong>：另外再开一个 PyCharm 窗口打开它（原来的项目窗口保留）。</li><li><strong>附加…</strong>：把你要打开的这个文件夹<strong>附加到当前项目里</strong>（相当于把它作为一个“模块/子项目”加进来，左侧项目树会多出来一个目录）。</li><li><strong>取消</strong>：不打开。</li><li><strong>不再询问</strong>：以后默认按你选的方式来，不再弹这个框（不建议现在就勾，等你确定习惯再勾）。</li></ul><p>我选择了此窗口，PyCharm 会自动帮你匹配好环境，我这里用的是 <code>base</code> ，没有单独创建一个专用的环境。</p><h3 id="_1-3-创建-py-文件" tabindex="-1"><a class="header-anchor" href="#_1-3-创建-py-文件"><span>1.3 创建 py 文件</span></a></h3><p>因为我们需要音频和 py 运行文件在同一目录下，因此直接新建即可。</p><figure><img src="'+y+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h2 id="_2-程序编写" tabindex="-1"><a class="header-anchor" href="#_2-程序编写"><span>2. 程序编写</span></a></h2><h3 id="_2-1-安装需要的库" tabindex="-1"><a class="header-anchor" href="#_2-1-安装需要的库"><span>2.1 安装需要的库</span></a></h3><p>PyCharm 左下角打开终端，运行命令：</p><div class="language-python line-numbers-mode" data-highlighter="shiki" data-ext="python" style="background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code class="language-python"><span class="line"><span style="color:#F8F8F2;">python </span><span style="color:#F92672;">-</span><span style="color:#F8F8F2;">m pip install numpy scipy matplotlib soundfile</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="_2-2-分析gpt给出的程序代码" tabindex="-1"><a class="header-anchor" href="#_2-2-分析gpt给出的程序代码"><span>2.2 分析GPT给出的程序代码</span></a></h3>',20)),c(r,{data:[{id:"Part 1"},{id:"Part 2"},{id:"Part 3"},{id:"Part 4"},{id:"Part 5"},{id:"Part 6"},{id:"Part 7"}]},{title0:a(({value:e,isActive:o})=>[...n[0]||(n[0]=[l("Part 1",-1)])]),title1:a(({value:e,isActive:o})=>[...n[1]||(n[1]=[l("Part 2",-1)])]),title2:a(({value:e,isActive:o})=>[...n[2]||(n[2]=[l("Part 3",-1)])]),title3:a(({value:e,isActive:o})=>[...n[3]||(n[3]=[l("Part 4",-1)])]),title4:a(({value:e,isActive:o})=>[...n[4]||(n[4]=[l("Part 5",-1)])]),title5:a(({value:e,isActive:o})=>[...n[5]||(n[5]=[l("Part 6",-1)])]),title6:a(({value:e,isActive:o})=>[...n[6]||(n[6]=[l("Part 7",-1)])]),tab0:a(({value:e,isActive:o})=>[...n[7]||(n[7]=[s("div",{class:"language-python line-numbers-mode has-collapsed-lines collapsed","data-highlighter":"shiki","data-ext":"python",style:{"--vp-collapsed-lines":"15","background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," numpy "),s("span",{style:{color:"#F92672"}},"as"),s("span",{style:{color:"#F8F8F2"}}," np")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," soundfile "),s("span",{style:{color:"#F92672"}},"as"),s("span",{style:{color:"#F8F8F2"}}," sf")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"from"),s("span",{style:{color:"#F8F8F2"}}," scipy.signal "),s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," resample_poly")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," matplotlib.pyplot "),s("span",{style:{color:"#F92672"}},"as"),s("span",{style:{color:"#F8F8F2"}}," plt")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"from"),s("span",{style:{color:"#F8F8F2"}}," pathlib "),s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," Path")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," csv")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"from"),s("span",{style:{color:"#F8F8F2"}}," datetime "),s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," datetime")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# ====== 输入文件 ======")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AE81FF"}},"INPUT_WAV"),s("span",{style:{color:"#F92672"}}," ="),s("span",{style:{color:"#E6DB74"}},' "input.wav"'),s("span",{style:{color:"#88846F"}},"     # 输入音频的文件名")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AE81FF"}},"TARGET_SR"),s("span",{style:{color:"#F92672"}}," ="),s("span",{style:{color:"#AE81FF"}}," 16000"),s("span",{style:{color:"#88846F"}},"           # 统一采样率到 16k")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# ========================")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"out_dir "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," Path("),s("span",{style:{color:"#E6DB74"}},'"."'),s("span",{style:{color:"#F8F8F2"}},")                          ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"wav_in "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," Path("),s("span",{style:{color:"#AE81FF"}},"INPUT_WAV"),s("span",{style:{color:"#F8F8F2"}},")")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})]),s("div",{class:"collapsed-lines"})],-1),s("p",null,[s("code",null,'"."'),l(" 的意思是：当前工作目录（运行的脚本所在文件夹），所以 "),s("code",null,"out_dir"),l(" 就表示：输出文件要保存到哪里。")],-1),s("p",null,[s("code",null,"Path(INPUT_WAV)"),l(" 就把这个字符串变成一个“路径对象”，所以 "),s("code",null,"wav_in"),l(" 表示：输入音频文件的路径。")],-1),s("p",null,null,-1)])]),tab1:a(({value:e,isActive:o})=>[...n[8]||(n[8]=[s("div",{class:"language-python line-numbers-mode","data-highlighter":"shiki","data-ext":"python",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"if"),s("span",{style:{color:"#F92672"}}," not"),s("span",{style:{color:"#F8F8F2"}}," wav_in.exists():")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"    raise"),s("span",{style:{color:"#66D9EF","font-style":"italic"}}," FileNotFoundError"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"f"),s("span",{style:{color:"#E6DB74"}},'"找不到输入文件：'),s("span",{style:{color:"#AE81FF"}},"{"),s("span",{style:{color:"#F8F8F2"}},"wav_in.resolve()"),s("span",{style:{color:"#AE81FF"}},"}"),s("span",{style:{color:"#E6DB74"}},'"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# 读音频")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"x, sr "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," sf.read("),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"str"),s("span",{style:{color:"#F8F8F2"}},"(wav_in), "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"always_2d"),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#AE81FF"}},"False"),s("span",{style:{color:"#F8F8F2"}},")")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("p",null,"逐个拆开讲：",-1),s("h3",{id:"_1-sf-read-是什么",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-sf-read-是什么"},[s("span",null,[l("1) "),s("code",null,"sf.read(...)"),l(" 是什么？")])])],-1),s("p",null,[s("code",null,"sf"),l(" 是 "),s("code",null,"soundfile"),l(" 这个库（前面一般写了 "),s("code",null,"import soundfile as sf"),l("）。"),s("br"),s("code",null,"sf.read(文件路径)"),l(" 会"),s("strong",null,"返回两个东西"),l("：")],-1),s("ul",null,[s("li",null,[s("strong",null,"x"),l("：音频数据本身（一个数组） "),s("ul",null,[s("li",null,[l("单声道："),s("code",null,"x"),l(" 是一维数组，比如 "),s("code",null,"[0.01, -0.02, ...]")]),s("li",null,[l("双声道："),s("code",null,"x"),l(" 是二维数组，比如 "),s("code",null,"[[L0, R0], [L1, R1], ...]")])])]),s("li",null,[s("strong",null,"sr"),l("：采样率（单位 Hz），比如 "),s("code",null,"16000"),l("、"),s("code",null,"44100"),l("、"),s("code",null,"48000")])],-1),s("p",null,[l("所以左边用 "),s("code",null,"x, sr = ..."),l(" 来接收这两个返回值。")],-1),s("hr",null,null,-1),s("h3",{id:"_2-为什么要-str-wav-in",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-为什么要-str-wav-in"},[s("span",null,[l("2) 为什么要 "),s("code",null,"str(wav_in)"),l("？")])])],-1),s("p",null,[s("code",null,"wav_in"),l(" 是 "),s("code",null,"Path"),l(" 对象。"),s("br"),l(" 有些库能直接接收 "),s("code",null,"Path"),l("，但为了兼容性更稳，这里把它转成字符串路径。")],-1),s("hr",null,null,-1),s("h3",{id:"_3-always-2d-false-是什么意思",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_3-always-2d-false-是什么意思"},[s("span",null,[l("3) "),s("code",null,"always_2d=False"),l(" 是什么意思？")])])],-1),s("p",null,[l("它控制 "),s("code",null,"x"),l(" 的形状：")],-1),s("ul",null,[s("li",null,[s("code",null,"always_2d=False"),l("： "),s("ul",null,[s("li",null,[l("如果是单声道，"),s("code",null,"x"),l(" 就是一维（更方便画波形、处理）")]),s("li",null,[l("如果是多声道，"),s("code",null,"x"),l(" 才是二维")])])]),s("li",null,[l("如果写成 "),s("code",null,"always_2d=True"),l("： "),s("ul",null,[s("li",null,[l("单声道也会强制变成二维（形状像 "),s("code",null,"N×1"),l("）")])])])],-1)])]),tab2:a(({value:e,isActive:o})=>[...n[9]||(n[9]=[s("div",{class:"language-python line-numbers-mode","data-highlighter":"shiki","data-ext":"python",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# 如果是双声道/多声道，转单声道（取平均）")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"if"),s("span",{style:{color:"#F8F8F2"}}," x.ndim "),s("span",{style:{color:"#F92672"}},">"),s("span",{style:{color:"#AE81FF"}}," 1"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    x "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," x.mean("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"axis"),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#AE81FF"}},"1"),s("span",{style:{color:"#F8F8F2"}},")")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("h3",{id:"_1-x-ndim-1-是什么意思",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-x-ndim-1-是什么意思"},[s("span",null,[l("1）"),s("code",null,"x.ndim > 1"),l(" 是什么意思？")])])],-1),s("ul",null,[s("li",null,[s("code",null,"x"),l(" 是音频数组")]),s("li",null,[s("code",null,"ndim"),l(" 是“维度数” "),s("ul",null,[s("li",null,[l("单声道一般是 "),s("strong",null,"一维"),l("：形状像 "),s("code",null,"(N,)"),l("，所以 "),s("code",null,"x.ndim == 1")]),s("li",null,[l("双声道/多声道一般是 "),s("strong",null,"二维"),l("：形状像 "),s("code",null,"(N, C)"),s("ul",null,[s("li",null,"N = 采样点数量"),s("li",null,"C = 声道数（2=左右声道）")])])])])],-1),s("p",null,"所以：",-1),s("ul",null,[s("li",null,[s("code",null,"x.ndim > 1"),l(" 就是在判断："),s("strong",null,"是不是多声道"),l("。")])],-1),s("h3",{id:"_2-x-mean-axis-1-在干什么",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-x-mean-axis-1-在干什么"},[s("span",null,[l("2）"),s("code",null,"x.mean(axis=1)"),l(" 在干什么？")])])],-1),s("p",null,[l("当 "),s("code",null,"x"),l(" 是 "),s("code",null,"(N, C)"),l(" 时：")],-1),s("ul",null,[s("li",null,[s("code",null,"axis=1"),l(" 表示沿着“声道那一维”求平均")]),s("li",null,[l("结果就变成 "),s("code",null,"(N,)"),l("，也就是单声道")])],-1),s("p",null,[l("举个简单例子："),s("br"),l(" 假设某个采样点左右声道分别是 L=0.2, R=0.4"),s("br"),l(" 取平均就是 (0.2+0.4)/2 = 0.3"),s("br"),l(" 这样每个时间点都合成一个值。")],-1),s("h3",{id:"_3-取其中一个声道",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_3-取其中一个声道"},[s("span",null,"3）取其中一个声道")])],-1),s("p",null,"如果你想更“保险”一点，也可以不平均，改成只取一个声道（比如左声道）：",-1),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,"if x.ndim > 1:")]),l(`
`),s("span",{class:"line"},[s("span",null,"    x = x[:, 0]")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("p",null,null,-1)])]),tab3:a(({value:e,isActive:o})=>[...n[10]||(n[10]=[s("div",{class:"language-python line-numbers-mode","data-highlighter":"shiki","data-ext":"python",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# 重采样到 16k（若本来就是16k就不动）")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"if"),s("span",{style:{color:"#F8F8F2"}}," sr "),s("span",{style:{color:"#F92672"}},"!="),s("span",{style:{color:"#AE81FF"}}," TARGET_SR"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"    # 用有理数重采样：up/down")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"    # 例如 48000 -> 16000 就是 down=3")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"    # 这里用最大公约数自动简化")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"    import"),s("span",{style:{color:"#F8F8F2"}}," math")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    g "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," math.gcd(sr, "),s("span",{style:{color:"#AE81FF"}},"TARGET_SR"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    up "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#AE81FF"}}," TARGET_SR"),s("span",{style:{color:"#F92672"}}," //"),s("span",{style:{color:"#F8F8F2"}}," g")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    down "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," sr "),s("span",{style:{color:"#F92672"}},"//"),s("span",{style:{color:"#F8F8F2"}}," g")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    x_rs "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," resample_poly(x, up, down)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    sr_rs "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#AE81FF"}}," TARGET_SR")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"else"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    x_rs "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," x")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    sr_rs "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," sr")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("h3",{id:"_1-if-sr-target-sr-先判断要不要重采样",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-if-sr-target-sr-先判断要不要重采样"},[s("span",null,[l("1）"),s("code",null,"if sr != TARGET_SR:"),l("：先判断要不要重采样")])])],-1),s("ul",null,[s("li",null,[s("code",null,"sr"),l(" 是你读出来的原采样率（比如 48000、44100）")]),s("li",null,[s("code",null,"TARGET_SR"),l(" 是你想统一到的采样率（这里是 16000）")])],-1),s("p",null,"如果不同，就进入重采样；相同就直接用原音频。",-1),s("hr",null,null,-1),s("h3",{id:"_2-为什么要算-g-gcd-sr-target-sr-最大公约数",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-为什么要算-g-gcd-sr-target-sr-最大公约数"},[s("span",null,[l("2）为什么要算 "),s("code",null,"g = gcd(sr, TARGET_SR)"),l(" 最大公约数 ？")])])],-1),s("p",null,"因为重采样可以理解成两步：",-1),s("ul",null,[s("li",null,[s("strong",null,"先上采样"),l("（插值）")]),s("li",null,[s("strong",null,"再下采样"),l("（抽取）")])],-1),s("p",null,[l("用 "),s("code",null,"resample_poly(x, up, down)"),l(" 需要两个整数：")],-1),s("ul",null,[s("li",null,[s("code",null,"up"),l("：上采样倍数")]),s("li",null,[s("code",null,"down"),l("：下采样倍数")])],-1),s("p",null,[l("但直接写成 "),s("code",null,"up=16000, down=48000"),l(" 太大了，没必要。"),s("br"),l(" 所以用最大公约数 "),s("code",null,"g"),l(" 把比例约分成最简：")],-1),s("p",null,[l("例子："),s("code",null,"48000 -> 16000")],-1),s("ul",null,[s("li",null,[s("code",null,"gcd(48000, 16000) = 16000")]),s("li",null,[s("code",null,"up = 16000/16000 = 1")]),s("li",null,[s("code",null,"down = 48000/16000 = 3"),s("br"),l(" 所以就是："),s("strong",null,"不插值（×1），每3个点取1个（÷3）"),l("，这就是注释里写的 "),s("code",null,"down=3"),l("。")])],-1),s("p",null,[l("再比如："),s("code",null,"44100 -> 16000")],-1),s("ul",null,[s("li",null,[s("p",null,[s("code",null,"gcd(44100, 16000) = 100")])]),s("li",null,[s("p",null,[s("code",null,"up = 16000/100 = 160")])]),s("li",null,[s("p",null,[s("code",null,"down = 44100/100 = 441"),s("br"),l(" 表示用一个合理的整数比例去变换采样率。")]),s("blockquote",null,[s("p",null,[s("strong",null,"重采样不是只能“整倍数”变化")]),s("p",null,[l("像 "),s("code",null,"48000 -> 16000"),l(" 很爽，是整除（÷3）。"),s("br"),l(" 但很多音频是 "),s("strong",null,"44100Hz"),l("（音乐/部分录音常见），它跟 16000 "),s("strong",null,"不整除"),l("。")]),s("p",null,[l("这时候你还是可以重采样，只是要用一个"),s("strong",null,"分数比例"),l("：")]),s("p",{class:"katex-block"},[s("span",{class:"katex-display"},[s("span",{class:"katex"},[s("span",{class:"katex-mathml"},[s("math",{xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},[s("semantics",null,[s("mrow",null,[s("mfrac",null,[s("mn",null,"16000"),s("mn",null,"44100")]),s("mo",null,"="),s("mfrac",null,[s("mn",null,"160"),s("mn",null,"441")])]),s("annotation",{encoding:"application/x-tex"},"\\frac{16000}{44100}=\\frac{160}{441} ")])])]),s("span",{class:"katex-html","aria-hidden":"true"},[s("span",{class:"base"},[s("span",{class:"strut",style:{height:"2.0074em","vertical-align":"-0.686em"}}),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.3214em"}},[s("span",{style:{top:"-2.314em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"44100")])]),s("span",{style:{top:"-3.23em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.677em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"16000")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.686em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})]),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}}),s("span",{class:"mrel"},"="),s("span",{class:"mspace",style:{"margin-right":"0.2778em"}})]),s("span",{class:"base"},[s("span",{class:"strut",style:{height:"2.0074em","vertical-align":"-0.686em"}}),s("span",{class:"mord"},[s("span",{class:"mopen nulldelimiter"}),s("span",{class:"mfrac"},[s("span",{class:"vlist-t vlist-t2"},[s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"1.3214em"}},[s("span",{style:{top:"-2.314em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"441")])]),s("span",{style:{top:"-3.23em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"frac-line",style:{"border-bottom-width":"0.04em"}})]),s("span",{style:{top:"-3.677em"}},[s("span",{class:"pstrut",style:{height:"3em"}}),s("span",{class:"mord"},[s("span",{class:"mord"},"160")])])]),s("span",{class:"vlist-s"},"​")]),s("span",{class:"vlist-r"},[s("span",{class:"vlist",style:{height:"0.686em"}},[s("span")])])])]),s("span",{class:"mclose nulldelimiter"})])])])])])]),s("p",null,"所以程序用："),s("ul",null,[s("li",null,[s("code",null,"up = 160")]),s("li",null,[s("code",null,"down = 441")])]),s("p",null,[l("意思是："),s("strong",null,"先把采样点“插值变密”160倍，再按 441 倍抽取回去"),l("（实际实现会用滤波器高效完成，不是傻乎乎真的把点扩大160倍存起来）。")])])])],-1),s("p",null,[l("此外，代码内部进行 "),s("strong",null,"重采样时会做一个“抗混叠低通滤波”"),l(" 。是 "),s("code",null,"resample_poly"),l(),s("strong",null,"内部自动帮你做的"),l("，目的只有一个："),s("strong",null,"不让重采样把高频搞乱"),l("。")],-1),s("p",null,[s("strong",null,"为什么重采样必须“顺带滤波”？")],-1),s("p",null,[l("当把采样率从高变低（比如 48k → 16k），相当于以后最多只能正确表示到 "),s("strong",null,"8kHz"),l(" 的内容。"),s("br"),l(" 那原来 48k 里可能存在 "),s("strong",null,"8kHz 以上"),l("的部分怎么办？")],-1),s("p",null,[l("如果直接“隔点取样/抽取”，这些高频会"),s("strong",null,"折回来伪装成低频"),l("（这就是混叠），声音会变脏、出现奇怪的失真。")],-1),s("p",null,"所以正确流程是：",-1),s("blockquote",null,[s("p",null,[s("strong",null,"先低通滤波，把新采样率承受不了的高频切掉 → 再抽取（降采样）")])],-1),s("p",null,[s("strong",null,"它到底滤掉了什么？")],-1),s("p",null,"以 48k → 16k 为例：",-1),s("ul",null,[s("li",null,[l("16k 的最高安全频率大约是 "),s("strong",null,"8kHz")]),s("li",null,[l("所以内部低通会把 "),s("strong",null,"8kHz 以上"),l("逐渐压掉（不是一刀切，但大概这个意思）")])],-1),s("p",null,"这样降到 16k 后，信号不会出现“高频折回”的假成分。",-1),s("hr",null,null,-1),s("h3",{id:"_3-x-rs-resample-poly-x-up-down-做了什么",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_3-x-rs-resample-poly-x-up-down-做了什么"},[s("span",null,[l("3）"),s("code",null,"x_rs = resample_poly(x, up, down)"),l(" 做了什么？")])])],-1),s("p",null,[l("它会把音频从 "),s("code",null,"sr"),l(" 变成 "),s("code",null,"TARGET_SR"),l("，并且"),s("strong",null,"自动做低通滤波"),l("来避免重采样带来的失真（比简单“隔点取样”靠谱很多）。")],-1),s("p",null,[l("输出 "),s("code",null,"x_rs"),l(" 就是重采样后的波形数组。")],-1),s("hr",null,null,-1),s("h3",{id:"_4-sr-rs-target-sr-else-分支",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_4-sr-rs-target-sr-else-分支"},[s("span",null,[l("4）"),s("code",null,"sr_rs = TARGET_SR"),l(" / "),s("code",null,"else"),l(" 分支")])])],-1),s("ul",null,[s("li",null,[l("如果做了重采样："),s("code",null,"sr_rs"),l(" 就是 16000")]),s("li",null,[l("如果没做："),s("code",null,"x_rs = x"),l("，"),s("code",null,"sr_rs = sr"),l("，保持原样")])],-1)])]),tab4:a(({value:e,isActive:o})=>[...n[11]||(n[11]=[s("div",{class:"language-python line-numbers-mode","data-highlighter":"shiki","data-ext":"python",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# 保存重采样后的 wav（方便后续都用这个，不用每次都重采样）")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"out_wav "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," out_dir "),s("span",{style:{color:"#F92672"}},"/"),s("span",{style:{color:"#E6DB74"}},' "input_16k.wav"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"sf.write("),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"str"),s("span",{style:{color:"#F8F8F2"}},"(out_wav), x_rs, sr_rs)")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("h3",{id:"_1-out-wav-out-dir-input-16k-wav",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-out-wav-out-dir-input-16k-wav"},[s("span",null,[l("1）"),s("code",null,'out_wav = out_dir / "input_16k.wav"')])])],-1),s("ul",null,[s("li",null,[s("code",null,"out_dir"),l(" 是当前目录（ 我们命名过的当前路径 "),s("code",null,'Path(".")'),l("）")]),s("li",null,[s("code",null,'out_dir / "input_16k.wav"'),l(" 这是一种 "),s("code",null,"Path"),l(" 的写法，表示："),s("br"),s("strong",null,[l("在当前目录下创建/指向一个叫 "),s("code",null,"input_16k.wav"),l(" 的文件路径")])]),s("li",null,[l("如果你当前目录是 "),s("code",null,"D:\\speech_day1\\"),l("，那它就是："),s("br"),s("code",null,"D:\\speech_day1\\input_16k.wav")])],-1),s("h3",{id:"_2-sf-write-str-out-wav-x-rs-sr-rs",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-sf-write-str-out-wav-x-rs-sr-rs"},[s("span",null,[l("2）"),s("code",null,"sf.write(str(out_wav), x_rs, sr_rs)")])])],-1),s("ul",null,[s("li",null,[s("code",null,"sf.write(路径, 数据, 采样率)"),l(" 用来写/存储 wav 文件")]),s("li",null,[s("code",null,"x_rs"),l(" 是重采样后的波形数组")]),s("li",null,[s("code",null,"sr_rs"),l(" 是对应的采样率（这里应该是 16000）")]),s("li",null,[s("code",null,"str(out_wav)"),l(" 同样是把 Path 转成字符串给 soundfile 用")])],-1)])]),tab5:a(({value:e,isActive:o})=>[...n[12]||(n[12]=[s("div",{class:"language-python line-numbers-mode has-collapsed-lines collapsed","data-highlighter":"shiki","data-ext":"python",style:{"--vp-collapsed-lines":"15","background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# 计算时长")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"duration "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#66D9EF"}}," len"),s("span",{style:{color:"#F8F8F2"}},"(x_rs) "),s("span",{style:{color:"#F92672"}},"/"),s("span",{style:{color:"#F8F8F2"}}," sr_rs")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# 画波形")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"t "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," np.arange("),s("span",{style:{color:"#66D9EF"}},"len"),s("span",{style:{color:"#F8F8F2"}},"(x_rs)) "),s("span",{style:{color:"#F92672"}},"/"),s("span",{style:{color:"#F8F8F2"}}," sr_rs")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"plt.figure("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"figsize"),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#AE81FF"}},"10"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#AE81FF"}},"3"),s("span",{style:{color:"#F8F8F2"}},"))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"plt.plot(t, x_rs)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"plt.xlabel("),s("span",{style:{color:"#E6DB74"}},'"Time (s)"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"plt.ylabel("),s("span",{style:{color:"#E6DB74"}},'"Amplitude"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"plt.title("),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"f"),s("span",{style:{color:"#E6DB74"}},'"Waveform (sr='),s("span",{style:{color:"#AE81FF"}},"{"),s("span",{style:{color:"#F8F8F2"}},"sr_rs"),s("span",{style:{color:"#AE81FF"}},"}"),s("span",{style:{color:"#E6DB74"}}," Hz, duration="),s("span",{style:{color:"#AE81FF"}},"{"),s("span",{style:{color:"#F8F8F2"}},"duration"),s("span",{style:{color:"#66D9EF","font-style":"italic"}},":.2f"),s("span",{style:{color:"#AE81FF"}},"}"),s("span",{style:{color:"#E6DB74"}},' s)"'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"plt.tight_layout()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"out_png "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," out_dir "),s("span",{style:{color:"#F92672"}},"/"),s("span",{style:{color:"#E6DB74"}},' "waveform.png"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"plt.savefig("),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"str"),s("span",{style:{color:"#F8F8F2"}},"(out_png), "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"dpi"),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#AE81FF"}},"160"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"plt.close()")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})]),s("div",{class:"collapsed-lines"})],-1),s("h3",{id:"_1-生成时间轴-为了画图横坐标是秒",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-生成时间轴-为了画图横坐标是秒"},[s("span",null,"1) 生成时间轴（为了画图横坐标是秒）")])],-1),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,"t = np.arange(len(x_rs)) / sr_rs")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1),s("ul",null,[s("li",null,[s("code",null,"np.arange()"),l(" 的设计规则是："),s("strong",null,"从 0 开始，按步长 1 递增，直到（但不包含）给定的终点"),l("。因此 "),s("code",null,"np.arange(len(x_rs))"),l(" 会生成 "),s("code",null,"[0, 1, 2, ..., N-1]")]),s("li",null,[l("再除以 "),s("code",null,"sr_rs"),l("，就变成秒："),s("br"),s("code",null,"[0/sr, 1/sr, 2/sr, ..., (N-1)/sr]")]),s("li",null,[l("这样画出来的横轴就是 "),s("strong",null,"Time (s)"),l("。")])],-1),s("h3",{id:"_2-画图-波形图",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-画图-波形图"},[s("span",null,"2) 画图（波形图）")])],-1),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,"plt.figure(figsize=(10, 3))")]),l(`
`),s("span",{class:"line"},[s("span",null,"plt.plot(t, x_rs)")]),l(`
`),s("span",{class:"line"},[s("span",null,'plt.xlabel("Time (s)")')]),l(`
`),s("span",{class:"line"},[s("span",null,'plt.ylabel("Amplitude")')]),l(`
`),s("span",{class:"line"},[s("span",null,'plt.title(f"Waveform (sr={sr_rs} Hz, duration={duration:.2f} s)")')]),l(`
`),s("span",{class:"line"},[s("span",null,"plt.tight_layout()")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("ul",null,[s("li",null,[s("code",null,"figsize=(10,3)"),l("：图的大小（宽10英寸，高3英寸）")]),s("li",null,[s("code",null,"plt.plot(t, x_rs)"),l("：横轴时间 t，纵轴幅度 x_rs（波形）")]),s("li",null,[s("code",null,"title"),l("：标题里把采样率和时长写上，方便你截图/写报告")]),s("li",null,[s("code",null,"tight_layout()"),l("：自动整理边距，避免标题或坐标被挤掉")])],-1),s("h3",{id:"_3-保存成图片并关闭",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_3-保存成图片并关闭"},[s("span",null,"3) 保存成图片并关闭")])],-1),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,'out_png = out_dir / "waveform.png"')]),l(`
`),s("span",{class:"line"},[s("span",null,"plt.savefig(str(out_png), dpi=160)")]),l(`
`),s("span",{class:"line"},[s("span",null,"plt.close()")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("ul",null,[s("li",null,[s("code",null,"out_png"),l("：输出文件路径（当前目录下的 waveform.png）")]),s("li",null,[s("code",null,"savefig(..., dpi=160)"),l("：保存图片，dpi 越高越清晰")]),s("li",null,[s("code",null,"close()"),l("：关掉这张图，避免后面画更多图时叠在一起、占内存")])],-1)])]),tab6:a(({value:e,isActive:o})=>[...n[13]||(n[13]=[s("div",{class:"language-python line-numbers-mode has-collapsed-lines collapsed","data-highlighter":"shiki","data-ext":"python",style:{"--vp-collapsed-lines":"15","background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# 写 log.csv（追加一行，更适合实验记录）")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"log_csv "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," out_dir "),s("span",{style:{color:"#F92672"}},"/"),s("span",{style:{color:"#E6DB74"}},' "log.csv"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"new_file "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F92672"}}," not"),s("span",{style:{color:"#F8F8F2"}}," log_csv.exists()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"with"),s("span",{style:{color:"#F8F8F2"}}," log_csv.open("),s("span",{style:{color:"#E6DB74"}},'"a"'),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"newline"),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#E6DB74"}},'""'),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"encoding"),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#E6DB74"}},'"utf-8"'),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#F92672"}},"as"),s("span",{style:{color:"#F8F8F2"}}," f:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    writer "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," csv.writer(f)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"    # 第一次创建文件时写表头")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"    if"),s("span",{style:{color:"#F8F8F2"}}," new_file:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        writer.writerow(["),s("span",{style:{color:"#E6DB74"}},'"time"'),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},'"input_file"'),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},'"output_file"'),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},'"sr_in"'),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},'"sr_out"'),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},'"duration_s"'),s("span",{style:{color:"#F8F8F2"}},"])")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    writer.writerow([")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        datetime.now().strftime("),s("span",{style:{color:"#E6DB74"}},'"%Y-%m-'),s("span",{style:{color:"#AE81FF"}},"%d"),s("span",{style:{color:"#E6DB74"}},' %H:%M:%S"'),s("span",{style:{color:"#F8F8F2"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        wav_in.name,          "),s("span",{style:{color:"#88846F"}},"# 输入文件名")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        out_wav.name,         "),s("span",{style:{color:"#88846F"}},"# 输出文件名")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        sr,                   "),s("span",{style:{color:"#88846F"}},"# 原采样率")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        sr_rs,                "),s("span",{style:{color:"#88846F"}},"# 重采样后采样率")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#66D9EF","font-style":"italic"}},"        f"),s("span",{style:{color:"#E6DB74"}},'"'),s("span",{style:{color:"#AE81FF"}},"{"),s("span",{style:{color:"#F8F8F2"}},"duration"),s("span",{style:{color:"#66D9EF","font-style":"italic"}},":.2f"),s("span",{style:{color:"#AE81FF"}},"}"),s("span",{style:{color:"#E6DB74"}},'"'),s("span",{style:{color:"#88846F"}},"     # 时长（秒）")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ])")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    ")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#66D9EF"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},'"✅ Day 1 完成！输出："'),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#66D9EF"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},'" -"'),s("span",{style:{color:"#F8F8F2"}},", out_png.resolve())")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#66D9EF"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},'" -"'),s("span",{style:{color:"#F8F8F2"}},", (out_dir "),s("span",{style:{color:"#F92672"}},"/"),s("span",{style:{color:"#E6DB74"}},' "log.csv"'),s("span",{style:{color:"#F8F8F2"}},").resolve())")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#66D9EF"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},'" -"'),s("span",{style:{color:"#F8F8F2"}},", out_wav.resolve())")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})]),s("div",{class:"collapsed-lines"})],-1),s("h3",{id:"_1-打开文件-追加模式-并起个名字叫-f",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-打开文件-追加模式-并起个名字叫-f"},[s("span",null,[l("1）打开文件（追加模式）并起个名字叫 "),s("code",null,"f")])])],-1),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,'with log_csv.open("a", newline="", encoding="utf-8") as f:')])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1),s("ul",null,[s("li",null,[s("p",null,[s("code",null,"log_csv"),l(" 是一个路径对象（比如 "),s("code",null,"./log.csv"),l("）")])]),s("li",null,[s("p",null,[s("code",null,'.open("a", ...)'),l(" 表示打开文件：")]),s("ul",null,[s("li",null,[s("code",null,'"a"'),l(" = append（追加）："),s("strong",null,"不会覆盖原内容，只会在末尾继续写")])])]),s("li",null,[s("p",null,[s("code",null,'encoding="utf-8"'),l("：用 UTF-8 编码写，中文不容易乱码")])]),s("li",null,[s("p",null,[s("code",null,'newline=""'),l("：这是写 CSV 时的常见写法，避免 Windows 上出现“空行”的问题")]),s("blockquote",null,[s("p",null,[l("CSV 模块会自己处理换行；如果文件打开时又让系统默认再处理一次换行，就可能变成“双重换行”，于是你看到文件里就隔一行空一行。把 "),s("code",null,'newline=""'),l(" 交给 "),s("code",null,"csv.writer"),l(" 统一管理换行，就不会出这个坑了。")])])]),s("li",null,[s("p",null,[s("code",null,"with ... as f:"),l("：这是 Python 的“上下文管理”")]),s("ul",null,[s("li",null,[l("好处："),s("strong",null,"写完自动关闭文件"),l("，不怕你忘记 "),s("code",null,"close()"),l("，也不容易把文件占用住")])])])],-1),s("p",null,[l("一句话："),s("strong",null,"打开 log.csv，准备往后面追加内容，文件句柄叫 f，写完自动关掉。")],-1),s("hr",null,null,-1),s("h3",{id:"_2-创建一个-csv-写入器",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-创建一个-csv-写入器"},[s("span",null,"2）创建一个 CSV 写入器")])],-1),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,"writer = csv.writer(f)")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])],-1),s("ul",null,[s("li",null,[s("p",null,[s("code",null,"csv.writer(f)"),l(" 会返回一个“写入器”")])]),s("li",null,[s("p",null,"以后就可以用："),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,"writer.writerow([...])")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])]),s("p",null,"把一行数据写进 CSV（自动用逗号分隔、自动处理引号等细节）")])],-1),s("p",null,[l("一句话："),s("strong",null,"writer 是专门负责“把列表写成 CSV 一行”的工具。")],-1),s("hr",null,null,-1),s("h3",{id:"一个很直观的类比",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#一个很直观的类比"},[s("span",null,"一个很直观的类比")])],-1),s("ul",null,[s("li",null,[s("code",null,"open(...) as f"),l("：打开一个记账本（log.csv）")]),s("li",null,[s("code",null,"csv.writer(f)"),l("：拿到一支“会自动排版成表格格式”的笔")]),s("li",null,[s("code",null,"writer.writerow([...])"),l("：往记账本里写一行记录")])],-1)])]),_:1}),n[15]||(n[15]=p(`<p>全部代码如下：</p><div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code class="language-python"><span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> numpy </span><span style="color:#F92672;">as</span><span style="color:#F8F8F2;"> np</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> soundfile </span><span style="color:#F92672;">as</span><span style="color:#F8F8F2;"> sf</span></span>
<span class="line"><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> scipy.signal </span><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> resample_poly</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> matplotlib.pyplot </span><span style="color:#F92672;">as</span><span style="color:#F8F8F2;"> plt</span></span>
<span class="line"><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> pathlib </span><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> Path</span></span>
<span class="line"><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> csv</span></span>
<span class="line"><span style="color:#F92672;">from</span><span style="color:#F8F8F2;"> datetime </span><span style="color:#F92672;">import</span><span style="color:#F8F8F2;"> datetime</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># ====== 你只改这里 ======</span></span>
<span class="line"><span style="color:#AE81FF;">INPUT_WAV</span><span style="color:#F92672;"> =</span><span style="color:#E6DB74;"> &quot;input.wav&quot;</span><span style="color:#88846F;">     # 输入音频的文件名</span></span>
<span class="line"><span style="color:#AE81FF;">TARGET_SR</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> 16000</span><span style="color:#88846F;">           # 统一采样率到 16k</span></span>
<span class="line"><span style="color:#88846F;"># ========================</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">out_dir </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> Path(</span><span style="color:#E6DB74;">&quot;.&quot;</span><span style="color:#F8F8F2;">)                          </span><span style="color:#88846F;"># &quot;.&quot; 的意思是：当前工作目录（运行的脚本所在文件夹），所以 out_dir 就表示：输出文件要保存到哪里</span></span>
<span class="line"><span style="color:#F8F8F2;">wav_in </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> Path(</span><span style="color:#AE81FF;">INPUT_WAV</span><span style="color:#F8F8F2;">)                     </span><span style="color:#88846F;"># Path(INPUT_WAV) 就把这个字符串变成一个“路径对象”，所以 wav_in 表示：输入音频文件的路径</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">if</span><span style="color:#F92672;"> not</span><span style="color:#F8F8F2;"> wav_in.exists():</span></span>
<span class="line"><span style="color:#F92672;">    raise</span><span style="color:#66D9EF;font-style:italic;"> FileNotFoundError</span><span style="color:#F8F8F2;">(</span><span style="color:#66D9EF;font-style:italic;">f</span><span style="color:#E6DB74;">&quot;找不到输入文件：</span><span style="color:#AE81FF;">{</span><span style="color:#F8F8F2;">wav_in.resolve()</span><span style="color:#AE81FF;">}</span><span style="color:#E6DB74;">&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 读音频</span></span>
<span class="line"><span style="color:#F8F8F2;">x, sr </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> sf.read(</span><span style="color:#66D9EF;font-style:italic;">str</span><span style="color:#F8F8F2;">(wav_in), </span><span style="color:#FD971F;font-style:italic;">always_2d</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">False</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 如果是双声道/多声道，转单声道（取平均）</span></span>
<span class="line"><span style="color:#F92672;">if</span><span style="color:#F8F8F2;"> x.ndim </span><span style="color:#F92672;">&gt;</span><span style="color:#AE81FF;"> 1</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">    x </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> x.mean(</span><span style="color:#FD971F;font-style:italic;">axis</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 重采样到 16k（若本来就是16k就不动）</span></span>
<span class="line"><span style="color:#F92672;">if</span><span style="color:#F8F8F2;"> sr </span><span style="color:#F92672;">!=</span><span style="color:#AE81FF;"> TARGET_SR</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#88846F;">    # 用有理数重采样：up/down</span></span>
<span class="line"><span style="color:#88846F;">    # 例如 48000 -&gt; 16000 就是 down=3</span></span>
<span class="line"><span style="color:#88846F;">    # 这里用最大公约数自动简化</span></span>
<span class="line"><span style="color:#F92672;">    import</span><span style="color:#F8F8F2;"> math</span></span>
<span class="line"><span style="color:#F8F8F2;">    g </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> math.gcd(sr, </span><span style="color:#AE81FF;">TARGET_SR</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">    up </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> TARGET_SR</span><span style="color:#F92672;"> //</span><span style="color:#F8F8F2;"> g</span></span>
<span class="line"><span style="color:#F8F8F2;">    down </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> sr </span><span style="color:#F92672;">//</span><span style="color:#F8F8F2;"> g</span></span>
<span class="line"><span style="color:#F8F8F2;">    x_rs </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> resample_poly(x, up, down)</span></span>
<span class="line"><span style="color:#F8F8F2;">    sr_rs </span><span style="color:#F92672;">=</span><span style="color:#AE81FF;"> TARGET_SR</span></span>
<span class="line"><span style="color:#F92672;">else</span><span style="color:#F8F8F2;">:</span></span>
<span class="line"><span style="color:#F8F8F2;">    x_rs </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> x</span></span>
<span class="line"><span style="color:#F8F8F2;">    sr_rs </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> sr</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 保存重采样后的 wav（方便后续都用这个）</span></span>
<span class="line"><span style="color:#F8F8F2;">out_wav </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> out_dir </span><span style="color:#F92672;">/</span><span style="color:#E6DB74;"> &quot;input_16k.wav&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">sf.write(</span><span style="color:#66D9EF;font-style:italic;">str</span><span style="color:#F8F8F2;">(out_wav), x_rs, sr_rs)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 计算时长</span></span>
<span class="line"><span style="color:#F8F8F2;">duration </span><span style="color:#F92672;">=</span><span style="color:#66D9EF;"> len</span><span style="color:#F8F8F2;">(x_rs) </span><span style="color:#F92672;">/</span><span style="color:#F8F8F2;"> sr_rs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 画波形</span></span>
<span class="line"><span style="color:#F8F8F2;">t </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> np.arange(</span><span style="color:#66D9EF;">len</span><span style="color:#F8F8F2;">(x_rs)) </span><span style="color:#F92672;">/</span><span style="color:#F8F8F2;"> sr_rs</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.figure(</span><span style="color:#FD971F;font-style:italic;">figsize</span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">10</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">3</span><span style="color:#F8F8F2;">))</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.plot(t, x_rs)</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.xlabel(</span><span style="color:#E6DB74;">&quot;Time (s)&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.ylabel(</span><span style="color:#E6DB74;">&quot;Amplitude&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.title(</span><span style="color:#66D9EF;font-style:italic;">f</span><span style="color:#E6DB74;">&quot;Waveform (sr=</span><span style="color:#AE81FF;">{</span><span style="color:#F8F8F2;">sr_rs</span><span style="color:#AE81FF;">}</span><span style="color:#E6DB74;"> Hz, duration=</span><span style="color:#AE81FF;">{</span><span style="color:#F8F8F2;">duration</span><span style="color:#66D9EF;font-style:italic;">:.2f</span><span style="color:#AE81FF;">}</span><span style="color:#E6DB74;"> s)&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.tight_layout()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">out_png </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> out_dir </span><span style="color:#F92672;">/</span><span style="color:#E6DB74;"> &quot;waveform.png&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.savefig(</span><span style="color:#66D9EF;font-style:italic;">str</span><span style="color:#F8F8F2;">(out_png), </span><span style="color:#FD971F;font-style:italic;">dpi</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">160</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.close()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 写 log.csv（追加一行，更适合实验记录）</span></span>
<span class="line"><span style="color:#F8F8F2;">log_csv </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> out_dir </span><span style="color:#F92672;">/</span><span style="color:#E6DB74;"> &quot;log.csv&quot;</span></span>
<span class="line"><span style="color:#F8F8F2;">new_file </span><span style="color:#F92672;">=</span><span style="color:#F92672;"> not</span><span style="color:#F8F8F2;"> log_csv.exists()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F92672;">with</span><span style="color:#F8F8F2;"> log_csv.open(</span><span style="color:#E6DB74;">&quot;a&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">newline</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">encoding</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;utf-8&quot;</span><span style="color:#F8F8F2;">) </span><span style="color:#F92672;">as</span><span style="color:#F8F8F2;"> f:</span></span>
<span class="line"><span style="color:#F8F8F2;">    writer </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> csv.writer(f)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">    # 第一次创建文件时写表头</span></span>
<span class="line"><span style="color:#F92672;">    if</span><span style="color:#F8F8F2;"> new_file:</span></span>
<span class="line"><span style="color:#F8F8F2;">        writer.writerow([</span><span style="color:#E6DB74;">&quot;time&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&quot;input_file&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&quot;output_file&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&quot;sr_in&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&quot;sr_out&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#E6DB74;">&quot;duration_s&quot;</span><span style="color:#F8F8F2;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">    writer.writerow([</span></span>
<span class="line"><span style="color:#F8F8F2;">        datetime.now().strftime(</span><span style="color:#E6DB74;">&quot;%Y-%m-</span><span style="color:#AE81FF;">%d</span><span style="color:#E6DB74;"> %H:%M:%S&quot;</span><span style="color:#F8F8F2;">),</span></span>
<span class="line"><span style="color:#F8F8F2;">        wav_in.name,          </span><span style="color:#88846F;"># 输入文件名</span></span>
<span class="line"><span style="color:#F8F8F2;">        out_wav.name,         </span><span style="color:#88846F;"># 输出文件名</span></span>
<span class="line"><span style="color:#F8F8F2;">        sr,                   </span><span style="color:#88846F;"># 原采样率</span></span>
<span class="line"><span style="color:#F8F8F2;">        sr_rs,                </span><span style="color:#88846F;"># 重采样后采样率</span></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">        f</span><span style="color:#E6DB74;">&quot;</span><span style="color:#AE81FF;">{</span><span style="color:#F8F8F2;">duration</span><span style="color:#66D9EF;font-style:italic;">:.2f</span><span style="color:#AE81FF;">}</span><span style="color:#E6DB74;">&quot;</span><span style="color:#88846F;">     # 时长（秒）</span></span>
<span class="line"><span style="color:#F8F8F2;">    ])</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;✅ Day 1 完成！输出：&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot; -&quot;</span><span style="color:#F8F8F2;">, out_png.resolve())</span></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot; -&quot;</span><span style="color:#F8F8F2;">, (out_dir </span><span style="color:#F92672;">/</span><span style="color:#E6DB74;"> &quot;log.csv&quot;</span><span style="color:#F8F8F2;">).resolve())</span></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot; -&quot;</span><span style="color:#F8F8F2;">, out_wav.resolve())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;">#-------output-------</span></span>
<span class="line"><span style="color:#F8F8F2;">✅ Day </span><span style="color:#AE81FF;">1</span><span style="color:#F8F8F2;"> 完成！输出：</span></span>
<span class="line"><span style="color:#F92672;"> -</span><span style="color:#F8F8F2;"> D:\\</span><span style="color:#F44747;">document\\speech_processing\\speech_day1\\waveform.png</span></span>
<span class="line"><span style="color:#F92672;"> -</span><span style="color:#F8F8F2;"> D:\\</span><span style="color:#F44747;">document\\speech_processing\\speech_day1\\log.csv</span></span>
<span class="line"><span style="color:#F92672;"> -</span><span style="color:#F8F8F2;"> D:\\</span><span style="color:#F44747;">document\\speech_processing\\speech_day1\\input_16k.wav</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div><figure><img src="`+m+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>',3))])}const f=t(v,[["render",h]]),E=JSON.parse('{"path":"/programming/learn-SSP-with-GPT/01-soundwave.html","title":"01. 语音信号处理 Pycharm 实操——音频采样、读取及画图","lang":"zh-CN","frontmatter":{"title":"01. 语音信号处理 Pycharm 实操——音频采样、读取及画图","icon":"boke","date":"2025-12-23T11:56:58.000Z","author":"Ran","isOriginal":true,"sticky":false,"star":false,"article":true,"timeline":true,"image":false,"navbar":true,"sidebarIcon":true,"comment":true,"lastUpdated":true,"editLink":true,"backToTop":true,"toc":true,"description":"1. 创建音频及py文件 1.1 准备音频文件 找一个格式为 wav 的音频文件，放在合适的文件夹中。 例如我放在了这个文件夹 D:\\\\document\\\\speech_processing\\\\speech_day1，命名为 iuput.wav 。 1.2 准备环境 PyCharm: 文件-打开-选择音频所在文件夹 。 会提示： 这是 PyCharm 在问你...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"01. 语音信号处理 Pycharm 实操——音频采样、读取及画图\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-12-23T11:56:58.000Z\\",\\"dateModified\\":\\"2025-12-23T08:31:04.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ran\\"}]}"],["meta",{"property":"og:url","content":"https://pythiaroot.com/programming/learn-SSP-with-GPT/01-soundwave.html"}],["meta",{"property":"og:site_name","content":"Pythia’s Root"}],["meta",{"property":"og:title","content":"01. 语音信号处理 Pycharm 实操——音频采样、读取及画图"}],["meta",{"property":"og:description","content":"1. 创建音频及py文件 1.1 准备音频文件 找一个格式为 wav 的音频文件，放在合适的文件夹中。 例如我放在了这个文件夹 D:\\\\document\\\\speech_processing\\\\speech_day1，命名为 iuput.wav 。 1.2 准备环境 PyCharm: 文件-打开-选择音频所在文件夹 。 会提示： 这是 PyCharm 在问你..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-23T08:31:04.000Z"}],["meta",{"property":"article:author","content":"Ran"}],["meta",{"property":"article:published_time","content":"2025-12-23T11:56:58.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-23T08:31:04.000Z"}]]},"git":{"createdTime":1766478664000,"updatedTime":1766478664000,"contributors":[{"name":"AmaraMeng","username":"AmaraMeng","email":"ranmeng9558@gmail.com","commits":1,"url":"https://github.com/AmaraMeng"}],"changelog":[{"hash":"cc300eacf6f7a965ea68f92f3530f79e77ed6be2","time":1766478664000,"email":"ranmeng9558@gmail.com","author":"AmaraMeng","message":"Add audio processing tutorial with sample code and assets"}]},"readingTime":{"minutes":10.9,"words":3269},"filePathRelative":"programming/learn-SSP-with-GPT/01-soundwave.md","excerpt":"<h2>1. 创建音频及py文件</h2>\\n<h3>1.1 准备音频文件</h3>\\n<p>找一个格式为 wav 的音频文件，放在合适的文件夹中。</p>\\n<p>例如我放在了这个文件夹 <code>D:\\\\document\\\\speech_processing\\\\speech_day1</code>，命名为 <code>iuput.wav</code> 。</p>\\n<h3>1.2 准备环境</h3>\\n<p>PyCharm: <code>文件-打开-选择音频所在文件夹</code> 。</p>\\n<p>会提示：</p>\\n<figure><figcaption></figcaption></figure>\\n","autoDesc":true}');export{f as comp,E as data};
