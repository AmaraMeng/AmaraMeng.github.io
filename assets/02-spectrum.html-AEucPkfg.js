import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c,d as p,e as i,w as a,r as F,o as d,a as s,b as l}from"./app-C2R3TP7P.js";const y="/assets/image-20251224215839290-DWwM5-aG.png",u={};function m(b,n){const t=F("Tabs");return d(),c("div",null,[n[6]||(n[6]=p('<h2 id="_1-目标" tabindex="-1"><a class="header-anchor" href="#_1-目标"><span>1. 目标</span></a></h2><p>用 <code>scipy.signal.stft</code> 或 <code>librosa.stft</code> 画谱图（干净/带噪各一张）</p><h2 id="_2-准备干净语料" tabindex="-1"><a class="header-anchor" href="#_2-准备干净语料"><span>2. 准备干净语料</span></a></h2><p>准备干净的语音文件 <code>clean.wav</code> 放在合适的文件夹中。</p><figure><img src="'+y+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="_3-生成噪声语料并画出谱图" tabindex="-1"><a class="header-anchor" href="#_3-生成噪声语料并画出谱图"><span>3. 生成噪声语料并画出谱图</span></a></h3><p>安装前一天没有安装，今天又需要的包：<code>librosa</code> 。</p><p>终端输入命令 <code>pip install librosa</code> 。</p><p>分析 GPT 给出的代码。</p>',9)),i(t,{data:[{id:"Part 1"},{id:"Part 2"},{id:"Part 3"}]},{title0:a(({value:e,isActive:o})=>[...n[0]||(n[0]=[l("Part 1",-1)])]),title1:a(({value:e,isActive:o})=>[...n[1]||(n[1]=[l("Part 2",-1)])]),title2:a(({value:e,isActive:o})=>[...n[2]||(n[2]=[l("Part 3",-1)])]),tab0:a(({value:e,isActive:o})=>[...n[3]||(n[3]=[s("div",{class:"language-python line-numbers-mode has-collapsed-lines collapsed","data-highlighter":"shiki","data-ext":"python",style:{"--vp-collapsed-lines":"15","background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"from"),s("span",{style:{color:"#F8F8F2"}}," pathlib "),s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," Path")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," numpy "),s("span",{style:{color:"#F92672"}},"as"),s("span",{style:{color:"#F8F8F2"}}," np")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," librosa")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," librosa.display")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," soundfile "),s("span",{style:{color:"#F92672"}},"as"),s("span",{style:{color:"#F8F8F2"}}," sf")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"import"),s("span",{style:{color:"#F8F8F2"}}," matplotlib.pyplot "),s("span",{style:{color:"#F92672"}},"as"),s("span",{style:{color:"#F8F8F2"}}," plt")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# ===== 路径设置 =====")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AE81FF"}},"ROOT"),s("span",{style:{color:"#F92672"}}," ="),s("span",{style:{color:"#F8F8F2"}}," Path(__file__).resolve().parent")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AE81FF"}},"IN_WAV"),s("span",{style:{color:"#F92672"}}," ="),s("span",{style:{color:"#AE81FF"}}," ROOT"),s("span",{style:{color:"#F92672"}}," /"),s("span",{style:{color:"#E6DB74"}},' "clean.wav"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AE81FF"}},"NOISY_WAV"),s("span",{style:{color:"#F92672"}}," ="),s("span",{style:{color:"#AE81FF"}}," ROOT"),s("span",{style:{color:"#F92672"}}," /"),s("span",{style:{color:"#E6DB74"}},' "noisy.wav"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AE81FF"}},"FIG_CLEAN"),s("span",{style:{color:"#F92672"}}," ="),s("span",{style:{color:"#AE81FF"}}," ROOT"),s("span",{style:{color:"#F92672"}}," /"),s("span",{style:{color:"#E6DB74"}},' "spec_clean.png"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AE81FF"}},"FIG_NOISY"),s("span",{style:{color:"#F92672"}}," ="),s("span",{style:{color:"#AE81FF"}}," ROOT"),s("span",{style:{color:"#F92672"}}," /"),s("span",{style:{color:"#E6DB74"}},' "spec_noisy.png"')]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"if"),s("span",{style:{color:"#F92672"}}," not"),s("span",{style:{color:"#AE81FF"}}," IN_WAV"),s("span",{style:{color:"#F8F8F2"}},".exists():")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"    raise"),s("span",{style:{color:"#66D9EF","font-style":"italic"}}," FileNotFoundError"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"f"),s("span",{style:{color:"#E6DB74"}},'"找不到：'),s("span",{style:{color:"#AE81FF"}},"{IN_WAV}"),s("span",{style:{color:"#E6DB74"}},"（cwd="),s("span",{style:{color:"#AE81FF"}},"{"),s("span",{style:{color:"#F8F8F2"}},"Path.cwd()"),s("span",{style:{color:"#AE81FF"}},"}"),s("span",{style:{color:"#E6DB74"}},'）"'),s("span",{style:{color:"#F8F8F2"}},")")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})]),s("div",{class:"collapsed-lines"})],-1),s("p",null,[s("code",null,"Path(__file__).resolve().parent"),l(" 表示 "),s("strong",null,".py 文件所在的文件夹")],-1),s("p",null,"好处：",-1),s("p",null,[l("让程序**以脚本所在文件夹为“基准点”**去找文件。"),s("br"),l(" 所以你不管：")],-1),s("ul",null,[s("li",null,[s("p",null,"用 PyCharm 跑")]),s("li",null,[s("p",null,"用 VS Code 跑")]),s("li",null,[s("p",null,"直接在 CMD / PowerShell 跑")]),s("li",null,[s("p",null,"甚至从别的目录跑"),s("blockquote",null,[s("p",null,"在终端里如果这样跑："),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,"cd /d D:\\document")]),l(`
`),s("span",{class:"line"},[s("span",null,"python speech_processing\\speech_day2\\make_noisy_and_specs.py")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])]),s("ul",null,[s("li",null,[s("strong",null,"cwd = D:\\document")]),s("li",null,[l("Day1 写法会去 "),s("code",null,"D:\\document\\clean.wav"),l(" 找（当然找不到）")]),s("li",null,[l("脚本目录写法会去 "),s("code",null,"D:\\...\\speech_day2\\clean.wav"),l(" 找（能找到）")])])])])],-1),s("p",null,[l("只要你的音频文件"),s("strong",null,"确实放在脚本同一个目录"),l("，一般就不会出现“因为运行目录不同导致找不到文件”。")],-1),s("hr",null,null,-1),s("p",null,[s("strong",null,"与前一天代码对比：")],-1),s("div",{class:"language-python line-numbers-mode","data-highlighter":"shiki","data-ext":"python",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# ====== 输入文件 ======")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AE81FF"}},"INPUT_WAV"),s("span",{style:{color:"#F92672"}}," ="),s("span",{style:{color:"#E6DB74"}},' "input.wav"'),s("span",{style:{color:"#88846F"}},"     # 输入音频的文件名")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AE81FF"}},"TARGET_SR"),s("span",{style:{color:"#F92672"}}," ="),s("span",{style:{color:"#AE81FF"}}," 16000"),s("span",{style:{color:"#88846F"}},"           # 统一采样率到 16k")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# ========================")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"out_dir "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," Path("),s("span",{style:{color:"#E6DB74"}},'"."'),s("span",{style:{color:"#F8F8F2"}},")                          ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"wav_in "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," Path("),s("span",{style:{color:"#AE81FF"}},"INPUT_WAV"),s("span",{style:{color:"#F8F8F2"}},")")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("p",null,[s("code",null,'Path("xxx.wav")'),l("：相对 "),s("strong",null,"cwd"),l(" 当前工作路径，因此会到当前工作路径下找文件。")],-1),s("p",null,[l("同理，输出文件位置 "),s("code",null,'Path(".")'),l(" 也是当前工作路径。")],-1),s("p",null,"因此一旦当前工作路径和文件所在文件路径不匹配，则容易出现问题。",-1),s("p",null,null,-1)])]),tab1:a(({value:e,isActive:o})=>[...n[4]||(n[4]=[s("div",{class:"language-python line-numbers-mode","data-highlighter":"shiki","data-ext":"python",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# ===== Step A：读取 clean，并统一采样率 =====")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AE81FF"}},"SR"),s("span",{style:{color:"#F92672"}}," ="),s("span",{style:{color:"#AE81FF"}}," 16000")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"y, sr "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," librosa.load("),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"str"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#AE81FF"}},"IN_WAV"),s("span",{style:{color:"#F8F8F2"}},"), "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"sr"),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#AE81FF"}},"SR"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"mono"),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#AE81FF"}},"True"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#66D9EF"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},'"Loaded:"'),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#AE81FF"}},"IN_WAV"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#E6DB74"}},'"len:"'),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#66D9EF"}},"len"),s("span",{style:{color:"#F8F8F2"}},"(y), "),s("span",{style:{color:"#E6DB74"}},'"sr:"'),s("span",{style:{color:"#F8F8F2"}},", sr)")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])],-1),s("p",null,[s("strong",null,[s("code",null,"SR = 16000"),l(" ：")]),l(" 先设定“目标采样率”为 16k。后面读入时会按这个来。")],-1),s("p",null,[s("strong",null,[s("code",null,"y, sr = librosa.load(str(IN_WAV), sr=SR, mono=True)"),l(" ：")])],-1),s("p",null,"这行做了三件事：",-1),s("ol",null,[s("li",null,[s("strong",null,"从 IN_WAV 读音频"),l("（IN_WAV 是文件路径）")]),s("li",null,[s("code",null,"mono=True"),l("：把音频变成"),s("strong",null,"单声道"),s("ul",null,[s("li",null,"如果原来是双声道，librosa 会把左右声道做平均/合并")])]),s("li",null,[s("code",null,"sr=SR"),l("：把音频"),s("strong",null,"重采样到 16k"),s("ul",null,[s("li",null,"如果原来不是 16k（比如 44.1k），librosa 会自动 resample"),s("li",null,"如果原来就是 16k，它就不改")])])],-1),s("p",null,"返回值：",-1),s("ul",null,[s("li",null,[s("code",null,"y"),l("：一维 numpy 数组（波形，浮点数，通常范围在 [-1,1]）")]),s("li",null,[s("code",null,"sr"),l("：实际返回的采样率（因为你传了 "),s("code",null,"sr=16000"),l("，所以基本就是 16000）")])],-1),s("p",null,[s("strong",null,[s("code",null,'print("Loaded:", IN_WAV, "len:", len(y), "sr:", sr)'),l(" ：")])],-1),s("p",null,[l("打印确认：读到了哪个文件、样本点数是多少、采样率是多少。 "),s("code",null,"len(y)"),l(" 是“采样点数”，如果想看“秒数”可以再算："),s("code",null,"len(y)/sr"),l(" 。")],-1),s("p",null,null,-1)])]),tab2:a(({value:e,isActive:o})=>[...n[5]||(n[5]=[s("div",{class:"language-python line-numbers-mode has-collapsed-lines collapsed","data-highlighter":"shiki","data-ext":"python",style:{"--vp-collapsed-lines":"15","background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-python"},[s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"# ===== Step B：按目标 SNR 加白噪声 =====")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#66D9EF","font-style":"italic"}},"def"),s("span",{style:{color:"#A6E22E"}}," add_white_noise_to_snr"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"clean"),s("span",{style:{color:"#F8F8F2"}},": np.ndarray, "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"snr_db"),s("span",{style:{color:"#F8F8F2"}},": "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"float"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"seed"),s("span",{style:{color:"#F8F8F2"}},": "),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"int"),s("span",{style:{color:"#F92672"}}," ="),s("span",{style:{color:"#AE81FF"}}," 0"),s("span",{style:{color:"#F8F8F2"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    rng "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," np.random.default_rng(seed)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    noise "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," rng.standard_normal("),s("span",{style:{color:"#FD971F","font-style":"italic"}},"size"),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}},"clean.shape)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    p_sig "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," np.mean(clean"),s("span",{style:{color:"#F92672"}},"**"),s("span",{style:{color:"#AE81FF"}},"2"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#F92672"}},"+"),s("span",{style:{color:"#AE81FF"}}," 1e-12")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    p_noise "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," np.mean(noise"),s("span",{style:{color:"#F92672"}},"**"),s("span",{style:{color:"#AE81FF"}},"2"),s("span",{style:{color:"#F8F8F2"}},") "),s("span",{style:{color:"#F92672"}},"+"),s("span",{style:{color:"#AE81FF"}}," 1e-12")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    scale "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," np.sqrt(p_sig "),s("span",{style:{color:"#F92672"}},"/"),s("span",{style:{color:"#F8F8F2"}}," (p_noise "),s("span",{style:{color:"#F92672"}},"*"),s("span",{style:{color:"#F8F8F2"}}," ("),s("span",{style:{color:"#AE81FF"}},"10"),s("span",{style:{color:"#F92672"}}," **"),s("span",{style:{color:"#F8F8F2"}}," (snr_db "),s("span",{style:{color:"#F92672"}},"/"),s("span",{style:{color:"#AE81FF"}}," 10"),s("span",{style:{color:"#F8F8F2"}},"))))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    noisy "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," clean "),s("span",{style:{color:"#F92672"}},"+"),s("span",{style:{color:"#F8F8F2"}}," noise "),s("span",{style:{color:"#F92672"}},"*"),s("span",{style:{color:"#F8F8F2"}}," scale")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#88846F"}},"    # 防削波：超过[-1,1]就整体缩放")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"    peak "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," np.max(np.abs(noisy))")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"    if"),s("span",{style:{color:"#F8F8F2"}}," peak "),s("span",{style:{color:"#F92672"}},">"),s("span",{style:{color:"#AE81FF"}}," 0.99"),s("span",{style:{color:"#F8F8F2"}},":")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"        noisy "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," noisy "),s("span",{style:{color:"#F92672"}},"/"),s("span",{style:{color:"#F8F8F2"}}," peak "),s("span",{style:{color:"#F92672"}},"*"),s("span",{style:{color:"#AE81FF"}}," 0.99")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F92672"}},"    return"),s("span",{style:{color:"#F8F8F2"}}," noisy.astype(np.float32)")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#AE81FF"}},"TARGET_SNR_DB"),s("span",{style:{color:"#F92672"}}," ="),s("span",{style:{color:"#AE81FF"}}," 5.0"),s("span",{style:{color:"#88846F"}},"  # 0更吵，10更干净")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"noisy "),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#F8F8F2"}}," add_white_noise_to_snr(y, "),s("span",{style:{color:"#AE81FF"}},"TARGET_SNR_DB"),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#FD971F","font-style":"italic"}},"seed"),s("span",{style:{color:"#F92672"}},"="),s("span",{style:{color:"#AE81FF"}},"0"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#F8F8F2"}},"sf.write("),s("span",{style:{color:"#66D9EF","font-style":"italic"}},"str"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#AE81FF"}},"NOISY_WAV"),s("span",{style:{color:"#F8F8F2"}},"), noisy, "),s("span",{style:{color:"#AE81FF"}},"SR"),s("span",{style:{color:"#F8F8F2"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#66D9EF"}},"print"),s("span",{style:{color:"#F8F8F2"}},"("),s("span",{style:{color:"#E6DB74"}},'"Saved:"'),s("span",{style:{color:"#F8F8F2"}},", "),s("span",{style:{color:"#AE81FF"}},"NOISY_WAV"),s("span",{style:{color:"#F8F8F2"}},")")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})]),s("div",{class:"collapsed-lines"})],-1),s("p",null,[s("strong",null,"给 clean 波形加一段白噪声，并把噪声强度调到你指定的 SNR（比如 5 dB）"),l("，然后把合成后的 "),s("code",null,"noisy.wav"),l(" 保存出来。")],-1),s("p",null,[s("strong",null,[s("code",null,"def add_white_noise_to_snr(clean: np.ndarray, snr_db: float, seed: int = 0):"),l(" ：")])],-1),s("p",null,[l("定义一个函数：输入干净语音 "),s("code",null,"clean"),l("、目标 "),s("code",null,"snr_db"),l("，输出带噪语音。")],-1),s("p",null,[s("code",null,"np.ndarray"),l(" 指的是 "),s("strong",null,"NumPy 的数组类型"),l("（n-dimensional array，n 维数组）")],-1),s("p",null,[s("code",null,"seed"),l(" 是随机种子：让你每次运行得到同一段噪声，方便复现实验。")],-1),s("blockquote",null,[s("h3",{id:"_1-seed-在代码里到底控制了什么",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_1-seed-在代码里到底控制了什么"},[s("span",null,"1）seed 在代码里到底控制了什么？")])]),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,"rng = np.random.default_rng(seed)")]),l(`
`),s("span",{class:"line"},[s("span",null,"noise = rng.standard_normal(size=clean.shape)")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])]),s("ul",null,[s("li",null,[s("code",null,"default_rng(seed)"),l("：用 seed 初始化一个随机数生成器")]),s("li",null,[s("code",null,"standard_normal(...)"),l("：从这个生成器里抽样，生成噪声")])]),s("p",null,[l("所以 "),s("strong",null,"seed 直接决定了 noise 长什么样"),l("（哪一串随机数）。")]),s("hr"),s("h3",{id:"_2-常见-4-种使用场景",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_2-常见-4-种使用场景"},[s("span",null,"2）常见 4 种使用场景")])]),s("h4",{id:"情况-a-固定-seed",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#情况-a-固定-seed"},[s("span",null,"情况 A：固定 seed")])]),s("p",null,"目的：每次运行结果一致，方便你判断“代码改动带来的变化”。"),s("p",null,"做法："),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,"seed = 0  # 固定")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])]),s("p",null,"改 STFT 参数/画图参数时，噪声不变，变化就只来自你的改动。"),s("hr"),s("h4",{id:"情况-b-要做-稳健结果-论文实验更严谨",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#情况-b-要做-稳健结果-论文实验更严谨"},[s("span",null,"情况 B：要做“稳健结果”（论文实验更严谨）")])]),s("p",null,"目的：结果不依赖某一条噪声的“运气”，而是对多个随机噪声平均。"),s("p",null,"做法：跑多个 seed，取平均/方差："),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,"seeds = [0, 1, 2, 3, 4]")]),l(`
`),s("span",{class:"line"},[s("span",null,"for s in seeds:")]),l(`
`),s("span",{class:"line"},[s("span",null,"    noisy = add_white_noise_to_snr(clean, 5.0, seed=s)")]),l(`
`),s("span",{class:"line"},[s("span",null,"    # 跑算法 -> 算指标 -> 记录")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"}),s("div",{class:"line-number"})])]),s("p",null,"最后汇报：平均提升多少 dB、标准差多少（哪怕只做 3 个 seed 也比 1 个强）。"),s("hr"),s("h4",{id:"情况-c-要-每次都生成不同-noisy-不想重复",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#情况-c-要-每次都生成不同-noisy-不想重复"},[s("span",null,"情况 C：要“每次都生成不同 noisy”（不想重复）")])]),s("p",null,"目的：每次运行都想得到新的噪声样本。"),s("p",null,[l("做法 1：用时间相关的随机种子（最简单：不传 seed）"),s("br"),l(" 在 NumPy 里你可以让它自动用系统熵初始化：")]),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,"rng = np.random.default_rng()  # 不给seed")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])]),s("p",null,[l("对应此处的函数，可以把 seed 默认值改成 "),s("code",null,"None"),l("：")]),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,"def add_white_noise_to_snr(clean, snr_db, seed=None):")]),l(`
`),s("span",{class:"line"},[s("span",null,"    rng = np.random.default_rng(seed)")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"}),s("div",{class:"line-number"})])]),s("ul",null,[s("li",null,[s("code",null,"seed=None"),l(" → 每次噪声都不一样（更“随机”）")])]),s("p",null,[l("做法 2：手动换 seed（更可控）"),s("br"),l(" 比如用当前日期/实验编号：")]),s("div",{class:"language- line-numbers-mode","data-highlighter":"shiki","data-ext":"",style:{"background-color":"#272822",color:"#F8F8F2"}},[s("pre",{class:"shiki monokai vp-code"},[s("code",{class:"language-"},[s("span",{class:"line"},[s("span",null,"seed = 20251224")])])]),s("div",{class:"line-numbers","aria-hidden":"true",style:{"counter-reset":"line-number 0"}},[s("div",{class:"line-number"})])]),s("hr"),s("h4",{id:"情况-d-想-可复现-可追踪-最像论文工程",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#情况-d-想-可复现-可追踪-最像论文工程"},[s("span",null,"情况 D：想“可复现 + 可追踪”（最像论文工程）")])]),s("p",null,"目的：既能生成不同 noisy，又能以后完全复现同一个 noisy。"),s("p",null,"做法：把 seed 写进文件名/日志："),s("ul",null,[s("li",null,[s("code",null,"noisy_snr5_seed0.wav")]),s("li",null,[s("code",null,"noisy_snr5_seed1.wav")])]),s("p",null,"这样“这张图对应哪条 noisy”，就能立刻复现。"),s("hr"),s("h3",{id:"_3-几个可能会踩的坑",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_3-几个可能会踩的坑"},[s("span",null,"3）几个可能会踩的坑")])]),s("h4",{id:"坑-1-同-seed-同结果-如果改了-noise-的长度",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#坑-1-同-seed-同结果-如果改了-noise-的长度"},[s("span",null,"坑 1：同 seed ≠ 同结果（如果改了 noise 的长度）")])]),s("p",null,"同一个 seed 生成的是“随机序列”，但你取多少个点会影响结果："),s("ul",null,[s("li",null,"音频长度变了（更长/更短）"),s("li",null,[s("code",null,"size=clean.shape"),l(" 就变了"),s("br"),l(" → 得到的噪声也会不同（因为截取的序列长度不一样）")])]),s("p",null,[l("所以做“严格对比”时，"),s("strong",null,"输入长度最好固定"),l("。")]),s("hr"),s("h4",{id:"坑-2-同-seed-在不同库-不同算法里不一定完全一致",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#坑-2-同-seed-在不同库-不同算法里不一定完全一致"},[s("span",null,"坑 2：同 seed 在不同库/不同算法里不一定完全一致")])]),s("p",null,[l("现在用的是 NumPy 的 "),s("code",null,"default_rng"),l("，它在 NumPy 内部是稳定的。"),s("br"),l(" 但如果你换成别的库的随机数（Python "),s("code",null,"random"),l("、PyTorch、TF），seed 机制不通用。")])],-1),s("p",null,[s("strong",null,[s("code",null,"rng = np.random.default_rng(seed)"),l(" ：")]),s("br"),l(" 创建一个随机数生成器对象 rng。")],-1),s("p",null,[s("code",null,"default_rng"),l(" 是 "),s("code",null,"Numpy"),l(" 推荐的新接口，比老的 "),s("code",null,"np.random.seed()"),l(" 更好用、更可控。")],-1),s("p",null,"seed 一样 → 生成的随机序列就一样。",-1),s("hr",null,null,-1),s("p",null,[s("strong",null,[s("code",null,"noise = rng.standard_normal(size=clean.shape)"),l(" ：")]),s("br"),l(" 生成一段噪声数组 noise，长度和 clean 完全一致。")],-1),s("p",null,[s("code",null,"standard_normal"),l(" 生成的是 高斯噪声：均值 0、标准差 1。")],-1),s("p",null,"之所以叫“白噪声”：它的频谱在各频率上（理想情况下）平均分布，不偏向某个频段。",-1),s("p",null,"此时的 noise 强度是“默认的”，跟你的 clean 的强度没关系，所以还不能直接加。",-1),s("hr",null,null,-1),s("p",null,[s("strong",null,[s("code",null,"p_sig = np.mean(clean**2) + 1e-12"),l(" ：")]),s("br"),l(" 这行在算干净语音的平均功率（power）。")],-1),s("p",null,"clean**2：每个采样点平方（类似能量）",-1),s("p",null,"np.mean(...)：对整段取平均，得到“每个采样点平均能量”，在信号处理中常用作功率估计。",-1),s("ul",null,[s("li",null,"1e-12：避免极端情况下 clean 全是 0 导致后面除 0。")],-1),s("p",null,"你可以把 p_sig 理解成：这段语音整体有多“响”（更准确说是平均能量大小）。",-1),s("hr",null,null,-1),s("p",null,[s("strong",null,[s("code",null,"p_noise = np.mean(noise**2) + 1e-12"),l(" ：")])],-1),s("p",null,"同理，这行算的是刚生成的那段噪声的平均功率。",-1),s("p",null,"因为 noise 是标准高斯，理论上它功率大约接近 1，但实际会有波动，所以这里也算一下更稳。",-1),s("hr",null,null,-1),s("p",null,null,-1)])]),_:1}),n[7]||(n[7]=p(`<div class="language-python line-numbers-mode has-collapsed-lines collapsed" data-highlighter="shiki" data-ext="python" style="--vp-collapsed-lines:15;background-color:#272822;color:#F8F8F2;"><pre class="shiki monokai vp-code"><code class="language-python"><span class="line"></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># ===== Step C：STFT -&gt; dB（两张图统一参考，保证可比）=====</span></span>
<span class="line"><span style="color:#AE81FF;">N_FFT</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> 512</span></span>
<span class="line"><span style="color:#AE81FF;">WIN_LENGTH</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> 400</span><span style="color:#88846F;">   # 25ms @ 16k</span></span>
<span class="line"><span style="color:#AE81FF;">HOP_LENGTH</span><span style="color:#F92672;"> =</span><span style="color:#AE81FF;"> 160</span><span style="color:#88846F;">   # 10ms @ 16k</span></span>
<span class="line"><span style="color:#AE81FF;">WINDOW</span><span style="color:#F92672;"> =</span><span style="color:#E6DB74;"> &quot;hann&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#66D9EF;font-style:italic;">def</span><span style="color:#A6E22E;"> stft_mag</span><span style="color:#F8F8F2;">(</span><span style="color:#FD971F;font-style:italic;">x</span><span style="color:#F8F8F2;">):</span></span>
<span class="line"><span style="color:#F8F8F2;">    D </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> librosa.stft(x, </span><span style="color:#FD971F;font-style:italic;">n_fft</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">N_FFT</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">hop_length</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">HOP_LENGTH</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic;">                     win_length</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">WIN_LENGTH</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">window</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">WINDOW</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F92672;">    return</span><span style="color:#F8F8F2;"> np.abs(D)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">S_clean </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> stft_mag(y)</span></span>
<span class="line"><span style="color:#F8F8F2;">S_noisy </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> stft_mag(noisy)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#88846F;"># 关键：两张图用同一个 ref（用 clean 的最大值）</span></span>
<span class="line"><span style="color:#F8F8F2;">ref </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> np.max(S_clean) </span><span style="color:#F92672;">+</span><span style="color:#AE81FF;"> 1e-12</span></span>
<span class="line"><span style="color:#F8F8F2;">S_clean_db </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> librosa.amplitude_to_db(S_clean, </span><span style="color:#FD971F;font-style:italic;">ref</span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;">ref)</span></span>
<span class="line"><span style="color:#F8F8F2;">S_noisy_db </span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;"> librosa.amplitude_to_db(S_noisy, </span><span style="color:#FD971F;font-style:italic;">ref</span><span style="color:#F92672;">=</span><span style="color:#F8F8F2;">ref)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AE81FF;">VMIN</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">VMAX</span><span style="color:#F92672;"> =</span><span style="color:#F92672;"> -</span><span style="color:#AE81FF;">80</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">plt.figure()</span></span>
<span class="line"><span style="color:#F8F8F2;">librosa.display.specshow(S_clean_db, </span><span style="color:#FD971F;font-style:italic;">sr</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">SR</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">hop_length</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">HOP_LENGTH</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic;">                         x_axis</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;time&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">y_axis</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;linear&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">vmin</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">VMIN</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">vmax</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">VMAX</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.colorbar(</span><span style="color:#FD971F;font-style:italic;">format</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;</span><span style="color:#AE81FF;">%+2.0f</span><span style="color:#E6DB74;"> dB&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.title(</span><span style="color:#E6DB74;">&quot;CLEAN Spectrogram&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.tight_layout()</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.savefig(</span><span style="color:#66D9EF;font-style:italic;">str</span><span style="color:#F8F8F2;">(</span><span style="color:#AE81FF;">FIG_CLEAN</span><span style="color:#F8F8F2;">), </span><span style="color:#FD971F;font-style:italic;">dpi</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">200</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.close()</span></span>
<span class="line"><span style="color:#66D9EF;">print</span><span style="color:#F8F8F2;">(</span><span style="color:#E6DB74;">&quot;Saved:&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#AE81FF;">FIG_CLEAN</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F8F8F2;">plt.figure()</span></span>
<span class="line"><span style="color:#F8F8F2;">librosa.display.specshow(S_noisy_db, </span><span style="color:#FD971F;font-style:italic;">sr</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">SR</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">hop_length</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">HOP_LENGTH</span><span style="color:#F8F8F2;">,</span></span>
<span class="line"><span style="color:#FD971F;font-style:italic;">                         x_axis</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;time&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">y_axis</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;linear&quot;</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">vmin</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">VMIN</span><span style="color:#F8F8F2;">, </span><span style="color:#FD971F;font-style:italic;">vmax</span><span style="color:#F92672;">=</span><span style="color:#AE81FF;">VMAX</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.colorbar(</span><span style="color:#FD971F;font-style:italic;">format</span><span style="color:#F92672;">=</span><span style="color:#E6DB74;">&quot;</span><span style="color:#AE81FF;">%+2.0f</span><span style="color:#E6DB74;"> dB&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.title(</span><span style="color:#66D9EF;font-style:italic;">f</span><span style="color:#E6DB74;">&quot;NOISY Spectrogram (SNR=</span><span style="color:#AE81FF;">{TARGET_SNR_DB}</span><span style="color:#E6DB74;"> dB)&quot;</span><span style="color:#F8F8F2;">)</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.tight_layout()</span></span>
<span class="line"><span style="color:#F8F8F2;">plt.savefig</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div><div class="collapsed-lines"></div></div>`,1))])}const g=r(u,[["render",m]]),_=JSON.parse('{"path":"/programming/learn-SSP-with-GPT/02-spectrum.html","title":"02. 语音信号处理 Pycharm 实操——谱图","lang":"zh-CN","frontmatter":{"title":"02. 语音信号处理 Pycharm 实操——谱图","icon":"boke","date":"2025-12-24T21:52:29.000Z","author":"Ran","isOriginal":true,"sticky":false,"star":false,"article":true,"timeline":true,"image":false,"navbar":true,"sidebarIcon":true,"comment":true,"lastUpdated":true,"editLink":true,"backToTop":true,"toc":true,"description":"1. 目标 用 scipy.signal.stft 或 librosa.stft 画谱图（干净/带噪各一张） 2. 准备干净语料 准备干净的语音文件 clean.wav 放在合适的文件夹中。 3. 生成噪声语料并画出谱图 安装前一天没有安装，今天又需要的包：librosa 。 终端输入命令 pip install librosa 。 分析 GPT 给出...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"02. 语音信号处理 Pycharm 实操——谱图\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2025-12-24T21:52:29.000Z\\",\\"dateModified\\":\\"2025-12-24T15:44:30.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"Ran\\"}]}"],["meta",{"property":"og:url","content":"https://pythiaroot.com/programming/learn-SSP-with-GPT/02-spectrum.html"}],["meta",{"property":"og:site_name","content":"Pythia’s Root"}],["meta",{"property":"og:title","content":"02. 语音信号处理 Pycharm 实操——谱图"}],["meta",{"property":"og:description","content":"1. 目标 用 scipy.signal.stft 或 librosa.stft 画谱图（干净/带噪各一张） 2. 准备干净语料 准备干净的语音文件 clean.wav 放在合适的文件夹中。 3. 生成噪声语料并画出谱图 安装前一天没有安装，今天又需要的包：librosa 。 终端输入命令 pip install librosa 。 分析 GPT 给出..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-12-24T15:44:30.000Z"}],["meta",{"property":"article:author","content":"Ran"}],["meta",{"property":"article:published_time","content":"2025-12-24T21:52:29.000Z"}],["meta",{"property":"article:modified_time","content":"2025-12-24T15:44:30.000Z"}]]},"git":{"createdTime":1766591070000,"updatedTime":1766591070000,"contributors":[{"name":"AmaraMeng","username":"AmaraMeng","email":"ranmeng9558@gmail.com","commits":1,"url":"https://github.com/AmaraMeng"}],"changelog":[{"hash":"6e643fb7d8faac25c900b58807d6e277fc14ad3e","time":1766591070000,"email":"ranmeng9558@gmail.com","author":"AmaraMeng","message":"feat: Add comprehensive tutorial on speech signal processing with spectrogram generation"}]},"readingTime":{"minutes":6.7,"words":2011},"filePathRelative":"programming/learn-SSP-with-GPT/02-spectrum.md","excerpt":"<h2>1. 目标</h2>\\n<p>用 <code>scipy.signal.stft</code> 或 <code>librosa.stft</code> 画谱图（干净/带噪各一张）</p>\\n<h2>2. 准备干净语料</h2>\\n<p>准备干净的语音文件 <code>clean.wav</code> 放在合适的文件夹中。</p>\\n<figure><figcaption></figcaption></figure>\\n<h3>3. 生成噪声语料并画出谱图</h3>\\n<p>安装前一天没有安装，今天又需要的包：<code>librosa</code> 。</p>\\n<p>终端输入命令 <code>pip install librosa</code> 。</p>","autoDesc":true}');export{g as comp,_ as data};
